var Vt=Object.defineProperty,Yt=Object.defineProperties;var qt=Object.getOwnPropertyDescriptors;var Je=Object.getOwnPropertySymbols;var Ht=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;var Xe=(t,i,n)=>i in t?Vt(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,g=(t,i)=>{for(var n in i||(i={}))Ht.call(i,n)&&Xe(t,n,i[n]);if(Je)for(var n of Je(i))Wt.call(i,n)&&Xe(t,n,i[n]);return t},T=(t,i)=>Yt(t,qt(i));import{j as r,F as E,a as e,T as c,C as A,L as S,l as Ne,u as oe,m as x,B as m,x as be,P as we,y as Se,z as it,D as W,E as $,G as ve,H as z,J as ne,K as Rt,N as Gt,O as $e,S as Oe,U as ze,V as ie,W as pe,r as w,X as Z,Y as L,Z as I,$ as H,I as R,a0 as Me,a1 as je,o as Te,p as ke,a2 as at,a3 as Y,a4 as ye,a5 as Zt,a6 as lt,a7 as Kt,a8 as X,a9 as O,aa as U,ab as te,ac as Qt,ad as he,ae as me,R as Jt,b as B,d as Xt,c as er,e as tr,f as rr,g as et,A as nr,h as sr,i as or,k as ir,M as ar}from"./vendor.744e3b36.js";import{n as lr,d as cr,a as dr,b as tt,c as ur,u as Fe,e as q,f as xe,g as fe,h as hr,L as Ce,D as De,T as re,i as ct,j as mr,P as pr,p as dt,k as ut,l as ht,m as yr,K as gr,C as mt,M as xr,o as fr,q as br,r as ee,s as wr,t as Sr,v as vr,w as Tr,x as kr}from"./useBooking.all.c4f7b492.js";import{u as pt,a as ce,e as C,d as yt}from"./guest.login.55cc07c1.js";const rt=()=>(localStorage.getItem("colour")=="rgb(0,0,0)"?lr():cr(),r(E,{children:[e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Welcome Aila,"})}),e(c,{sx:{my:"10px",mx:"30px",pb:"10px"},variant:"subtitle1",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})),Cr=()=>r(E,{children:[e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Settings"})}),r(A,{sx:{my:"50px"},children:[e(S,{to:"/user/all",style:{margin:0},children:r(Ne,{children:[e(dr,{color:"primary"}),e(c,{sx:{ml:"20px"},aligh:"center",color:"primary",children:"Account Management"}),e(tt,{fontSize:"small",color:"primary",style:{position:"absolute",right:"10px"}})]})}),e(S,{to:"/display",style:{margin:0},children:r(Ne,{children:[e(ur,{color:"primary"}),e(c,{sx:{ml:"20px"},aligh:"center",color:"primary",children:"Display Mode"}),e(tt,{fontSize:"small",color:"primary",style:{position:"absolute",right:"10px"}})]})})]})]}),Dr=async()=>(await((n=1100)=>new Promise(s=>setTimeout(s,n)))(),await fetch("https://user.technolashes.com/api/users",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(n=>{switch(n.status){case 200:return n.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(n=>{if(n)return n}).catch(n=>console.log(n))),Ir=()=>oe("user-all",Dr,{refetchOnWindowFocus:!1}),Er=()=>{const{isLoading:t,isError:i,error:n,data:s,isFetching:o}=Ir();return r(E,{children:[e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Account Management"})}),e(A,{sx:{display:"flex",justifyContent:"center"},children:e(S,{to:"/user/add",children:e(x,{variant:"contained",color:"success",children:"Create New User"})})}),e(m,{sx:{m:"10px"},children:e(be,{component:we,style:{maxHeight:373,overflow:"auto"},children:r(Se,{"aria-label":"simple table",children:[e(it,{children:e(W,{children:e($,{style:{color:"rgb(0,0,0)"},children:e("strong",{children:"Clients"})})})}),e(ve,{children:t||o?e(W,{sx:{display:"flex",justifyContent:"center"},children:e($,{children:e(z,{color:"secondary"})})}):i?e(W,{sx:{display:"flex",justifyContent:"center"},children:e($,{children:r(c,{style:{color:"rgb(0,0,0)"},children:["Error ",n.message]})})}):s?s.map(a=>r(W,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e($,{component:"th",scope:"row",sx:{my:0,py:0,px:"5px",textAlign:"center"},children:r(S,{to:`/user/single/${a.userID}`,style:{color:"rgb(0,0,0)"},children:[a.firstName," ",a.lastName]})}),r($,{component:"th",scope:"row",sx:{display:"flex",justifyContent:"flex-end",pr:"5px",my:0,py:0},children:[e(S,{to:`/user/edit/${a.userID}`,children:e(x,{size:"small",variant:"contained",color:"warning",style:{textTransform:"none"},children:"Edit"})}),e(S,{style:{marginLeft:"3px",marginRight:"0",float:"right"},to:`/user/delete/${a.userID}`,children:e(x,{size:"small",variant:"contained",color:"error",style:{textTransform:"none"},children:"Delete"})})]})]},a.userID)):null})]})})})]})},Pr=()=>{const{id:t}=ne(),{isLoading:i,isError:n,error:s,data:o,isFetching:a}=Fe(t);return r(E,{children:[e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Client"})}),i||a?e(m,{sx:{display:"flex",justifyContent:"center",m:2},children:e(z,{color:"secondary"})}):n?e(A,{sx:{display:"flex",justifyContent:"center"},children:r(c,{style:{color:"white"},children:["Error: ",s.message]})}):o?r(Rt,{sx:{m:"10px"},children:[r(Gt,{children:[r(c,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:["UserID: ",o.userID]}),r(c,{variant:"h5",component:"div",children:[o.firstName," ",o.lastName]}),e(c,{variant:"body2",color:"primary",children:new Date(o.dateOfBirth).toLocaleDateString()}),r(c,{variant:"body2",color:"secondary",children:["Username: ",o.username]}),r(c,{variant:"body2",color:"secondary",children:["Email: ",o.email]})]}),e(S,{to:"/user/all",children:r(x,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(q,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]},o.userID):null]})};var _e={},Ar=Oe.exports;Object.defineProperty(_e,"__esModule",{value:!0});var Ue=_e.default=void 0,Br=Ar($e),Lr=ze,Nr=(0,Br.default)((0,Lr.jsx)("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm6 3h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v9c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-9c0-1.66-1.34-3-3-3zm1 11H5v-3c.9-.01 1.76-.37 2.4-1.01l1.09-1.07 1.07 1.07c1.31 1.31 3.59 1.3 4.89 0l1.08-1.07 1.07 1.07c.64.64 1.5 1 2.4 1.01v3zm0-4.5c-.51-.01-.99-.2-1.35-.57l-2.13-2.13-2.14 2.13c-.74.74-2.03.74-2.77 0L8.48 12.8l-2.14 2.13c-.35.36-.83.56-1.34.57V12c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v3.5z"}),"CakeOutlined");Ue=_e.default=Nr;var Ve={},$r=Oe.exports;Object.defineProperty(Ve,"__esModule",{value:!0});var Ye=Ve.default=void 0,Or=$r($e),zr=ze,Mr=(0,Or.default)((0,zr.jsx)("path",{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}),"EmailOutlined");Ye=Ve.default=Mr;const jr=async t=>{await((n=2200)=>new Promise(s=>setTimeout(s,n)))(),await fetch("https://user.technolashes.com/api/user",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(n=>{switch(n.status){case 200:return n.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(n=>{if(n)return document.getElementById("user-add-success").style.display="flex",n}).catch(n=>{document.getElementById("user-add-error").style.display="flex",document.getElementById("user-add-error-message").innerHTML=n,console.log(n)})},Fr=()=>{const t=pe();return ie("user-add",jr,{refetchOnWindowFocus:!1,onSuccess:()=>{t.invalidateQueries("user-all")}})},_r=()=>{const t=pt(),[i,n]=w.exports.useState({showPassword:!1}),[s,o]=w.exports.useState({showPassword:!1}),[a,u]=w.exports.useState("CLIENT"),{register:l,handleSubmit:p,watch:y,formState:{errors:h}}=ce(),d=P=>{P=="password"?(n(T(g({},i),{showPassword:!i.showPassword})),i.showPassword?document.getElementById("password").setAttribute("type","text"):document.getElementById("password").setAttribute("type","password")):P=="confirmPassword"&&(o(T(g({},s),{showPassword:!s.showPassword})),s.showPassword?document.getElementById("confirmPassword").setAttribute("type","text"):document.getElementById("confirmPassword").setAttribute("type","password"))},b=y(["password","confirmPassword"]),f=b[0]==b[1],{mutate:k}=Fr();return r(E,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"user-add-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-add-error-message"})}),e(L,{id:"user-add-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Account Created Successfully!"})})]}),e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Create Account"})}),r("form",{onSubmit:p(P=>{document.getElementById("user-add-success").style.display="none",document.getElementById("user-add-error").style.display="none",f&&(P.roles=a,delete P.confirmPassword,k(P))}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 30px",borderRadius:"10px"},children:[e(I,g({id:"firstName",sx:{m:"10px"},variant:"outlined",name:"firstName",label:"First Name",InputLabelProps:{className:t.input},InputProps:{className:t.input}},l("firstName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),h.firstName&&e("span",{style:C,children:"! Invalid first name ..."}),e(I,g({id:"lastName",sx:{m:"10px"},variant:"outlined",name:"lastName",label:"Last Name",InputLabelProps:{className:t.input},InputProps:{className:t.input}},l("lastName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),h.lastName&&e("span",{style:C,children:"! Invalid last name ..."}),e(I,T(g({id:"dateOfBirth",sx:{m:"10px"},variant:"outlined",name:"dateOfBirth",label:"Date of Birth",InputLabelProps:{className:t.input}},l("dateOfBirth",{required:!0,pattern:/^[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/i})),{InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(Ue,{sx:{color:"rgb(255,255,255)"}})})}})),h.dateOfBirth&&e("span",{style:C,children:"! Invalid date of birth 'YYYY-MM-dd' ..."}),e(I,T(g({id:"email",sx:{m:"10px"},variant:"outlined",name:"email",label:"Email"},l("email",{required:!0,maxLength:200,pattern:/[a-zA-z0-9_.+-]+@[a-zA-z0-9-]+\.[a-zA-Z0-9-.]+/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(Ye,{sx:{color:"rgb(255,255,255)"}})})}})),h.email&&e("span",{style:C,children:"! Invalid email ..."}),e(I,T(g({id:"username",sx:{m:"10px"},variant:"outlined",name:"username",label:"Username"},l("username",{required:!0,pattern:/^[a-zA-Z0-9]{3,255}$/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(yt,{sx:{color:"rgb(255,255,255)"}})})}})),h.username&&e("span",{style:C,children:"! Invalid username ..."}),e(I,T(g({id:"password",type:"text",sx:{m:"10px"},variant:"outlined",name:"password",label:"Password"},l("password",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(R,{"aria-label":"toggle password visibility",onClick:P=>d("password"),edge:"end",children:i.showPassword?e(xe,{sx:{color:"rgb(255,255,255)"}}):e(fe,{sx:{color:"rgb(255,255,255)"}})})})}})),h.password&&e("span",{style:C,children:"! Invalid password ..."}),e(I,T(g({id:"confirmPassword",type:"text",sx:{m:"10px"},variant:"outlined",name:"confirmPassword",label:"Confirm Password"},l("confirmPassword",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(R,{"aria-label":"toggle password visibility",onClick:P=>d("confirmPassword"),edge:"end",children:s.showPassword?e(xe,{sx:{color:"rgb(255,255,255)"}}):e(fe,{sx:{color:"rgb(255,255,255)"}})})})}})),h.confirmPassword&&e("span",{style:C,children:"! Invalid confirmation password ..."}),f?"":e("span",{style:C,children:"! Please make sure passwords match ..."}),e(m,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(x,{type:"submit",variant:"contained",color:"success",sx:{width:"50%"},style:{textTransform:"none"},children:"Create"})})]}),e(S,{to:"/user/all",children:r(x,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(q,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},Ur=()=>{const t=pt(),{id:i}=ne(),[n,s]=w.exports.useState(""),[o,a]=w.exports.useState({showPassword:!0}),[u,l]=w.exports.useState({showPassword:!0}),{isLoading:p,isError:y,error:h,data:d,isFetching:b}=Fe(i);w.exports.useEffect(()=>{d&&s(d.roles)},[d]);const{register:f,handleSubmit:k,watch:M,formState:{errors:P}}=ce(),D=V=>{V=="password"?(a(T(g({},o),{showPassword:!o.showPassword})),o.showPassword?document.getElementById("password").setAttribute("type","text"):document.getElementById("password").setAttribute("type","password")):V=="confirmPassword"&&(l(T(g({},u),{showPassword:!u.showPassword})),u.showPassword?document.getElementById("confirmPassword").setAttribute("type","text"):document.getElementById("confirmPassword").setAttribute("type","password"))},K=M(["password","confirmPassword"]),j=K[0]==K[1],{mutate:F}=hr();return r(E,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"user-edit-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-edit-error-message"})}),e(L,{id:"user-edit-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Update Successfully!"})})]}),e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Edit User"})}),p||b?e(m,{sx:{display:"flex",justifyContent:"center",m:2},children:e(z,{color:"secondary"})}):y?e(A,{sx:{display:"flex",justifyContent:"center"},children:r(c,{style:{color:"white"},children:["Error: ",h.message]})}):d?e(E,{children:r("form",{onSubmit:k(V=>{document.getElementById("user-edit-success").style.display="none",document.getElementById("user-edit-error").style.display="none",j&&(V.userID=i,V.roles=n,delete V.confirmPassword,F(V))}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 30px",borderRadius:"10px"},children:[e(I,g({id:"firstName",color:"primary",sx:{m:"10px"},ref:f,variant:"outlined",name:"firstName",defaultValue:d.firstName,label:"First Name",InputLabelProps:{className:t.input},InputProps:{className:t.input}},f("firstName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),P.firstName&&e("span",{style:C,children:"! Invalid first name ..."}),e(I,g({id:"lastName",color:"primary",sx:{m:"10px"},ref:f,variant:"outlined",name:"lastName",defaultValue:d.lastName,label:"Last Name",InputLabelProps:{className:t.input},InputProps:{className:t.input}},f("lastName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),P.lastName&&e("span",{style:C,children:"! Invalid last name ..."}),e(I,T(g({id:"dateOfBirth",color:"primary",sx:{m:"10px"},ref:f,variant:"outlined",name:"dateOfBirth",defaultValue:d.dateOfBirth.substring(0,10),label:"Date Of Birth"},f("dateOfBirth",{required:!0,pattern:/^[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(Ue,{sx:{color:"rgb(255,255,255)"}})})}})),P.dateOfBirth&&e("span",{style:C,children:"! Invalid date of birth 'YYYY-MM-dd' ..."}),e(I,T(g({id:"email",color:"primary",sx:{m:"10px"},ref:f,variant:"outlined",name:"email",defaultValue:d.email,label:"Email"},f("email",{required:!0,maxLength:200,pattern:/[a-zA-z0-9_.+-]+@[a-zA-z0-9-]+\.[a-zA-Z0-9-.]+/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(Ye,{sx:{color:"rgb(255,255,255)"}})})}})),P.email&&e("span",{style:C,children:"! Invalid email ..."}),e(I,T(g({id:"username",color:"primary",sx:{m:"10px"},ref:f,variant:"outlined",name:"username",defaultValue:d.username,label:"Username"},f("username",{required:!0,pattern:/^[a-zA-Z0-9]{3,255}$/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(yt,{sx:{color:"rgb(255,255,255)"}})})}})),P.username&&e("span",{style:C,children:"! Invalid username ..."}),e(I,T(g({id:"password",type:"password",color:"primary",sx:{m:"10px"},ref:f,variant:"outlined",name:"password",defaultValue:d.password,label:"Password"},f("password",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(R,{"aria-label":"toggle password visibility",onClick:V=>D("password"),edge:"end",children:o.showPassword?e(xe,{sx:{color:"rgb(255,255,255)"}}):e(fe,{sx:{color:"rgb(255,255,255)"}})})})}})),P.password&&e("span",{style:C,children:"! Invalid password ..."}),e(I,T(g({id:"confirmPassword",type:"password",sx:{m:"10px"},ref:f,variant:"outlined",name:"confirmPassword",label:"Confirm Password",defaultValue:d.password},f("confirmPassword",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:t.input},InputProps:{className:t.input,endAdornment:e(H,{position:"end",children:e(R,{"aria-label":"toggle password visibility",onClick:V=>D("confirmPassword"),edge:"end",children:u.showPassword?e(xe,{sx:{color:"rgb(255,255,255)"}}):e(fe,{sx:{color:"rgb(255,255,255)"}})})})}})),P.confirmPassword&&e("span",{style:C,children:"! Invalid confirmation password ..."}),j?"":e("span",{style:C,children:"! Please make sure passwords match ..."}),e(m,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(x,{variant:"contained",color:"warning",type:"submit",sx:{width:"50%"},style:{textTransform:"none"},children:"Edit"})})]})}):null,e(S,{to:"/user/all",children:r(x,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(q,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})};var qe={},Vr=Oe.exports;Object.defineProperty(qe,"__esModule",{value:!0});var Ie=qe.default=void 0,Yr=Vr($e),qr=ze,Hr=(0,Yr.default)((0,qr.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");Ie=qe.default=Hr;const Wr=async t=>{await((s=2200)=>new Promise(o=>setTimeout(o,s)))();const n=t.userID;await fetch(`https://user.technolashes.com/api/user/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(s=>{switch(s.status){case 200:document.getElementById("user-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(s=>{document.getElementById("user-delete-error").style.display="flex",document.getElementById("user-delete-error-message").innerHTML=s,console.log(s)})},Rr=()=>{const t=pe(),i=Me();return ie(Wr,{refetchOnWindowFocus:!1,onSuccess:()=>{t.invalidateQueries("user-all"),setTimeout(()=>i("/user/all"),2500)}})},nt={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Gr=()=>{const{id:t}=ne(),{isLoading:i,isError:n,error:s,data:o,isFetching:a}=Fe(t),[u,l]=w.exports.useState(!0),p=()=>l(!0),y=()=>l(!1),{mutate:h}=Rr(),d=b=>{b.preventDefault(),h({userID:t})};return e(je,{open:u,onClose:p,style:{backgroundColor:"rgb(50,53,101)"},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:i||a?e(m,{sx:{style:nt,display:"flex",justifyContent:"center",mt:40},children:e(z,{color:"secondary"})}):n?e(Container,{sx:{display:"flex",justifyContent:"center"},children:r(c,{style:{color:"white"},children:["Error: ",s.message]})}):o?r(m,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"user-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-delete-error-message"})}),e(L,{id:"user-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Deleted Successfully!"})})]}),r(m,{sx:nt,children:[r(c,{id:"modal-modal-title",variant:"h6",color:"error",children:[r("strong",{style:{color:"blue"},children:[o.firstName,"'s"]})," Account"]}),e(c,{id:"modal-modal-description",sx:{mt:2},color:"error",children:"Are you sure you want this user account deleted?"}),r(x,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"error",onClick:d,children:["Yes",e(Ie,{fontSize:"small",sx:{ml:1}})]}),e(S,{to:"/user/all",children:r(x,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"primary",onClick:y,children:["No",e(q,{fontSize:"small",sx:{ml:"10px"}})]})})]})]}):null})},Zr=()=>{const t=[1,2,3,4,5,6],i=[new Date().toDateString()];return t.forEach(n=>{i.push(new Date(new Date().setDate(new Date().getDate()+n)).toDateString())}),r(E,{children:[e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Work Schedule"})}),e(m,{sx:{m:"10px"},children:e(be,{component:we,children:r(Se,{"aria-label":"simple table",children:[e(it,{children:e(W,{children:e($,{style:{color:"rgb(0,0,0)"},children:e("strong",{children:"Upcoming Dates"})})})}),e(ve,{children:i.map(n=>r(W,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e($,{component:"th",scope:"row",sx:{my:0,py:0},children:e(S,{to:"",style:{color:"rgb(0,0,0)"},children:n})}),e($,{component:"th",scope:"row",sx:{display:"flex",justifyContent:"flex-end",pr:"5px",my:0,py:0},children:e(S,{style:{marginLeft:"3px",marginRight:"0",float:"right"},to:`/schedule/add/${n}`,children:e(x,{size:"small",variant:"contained",color:"success",style:{textTransform:"none"},children:"Set Time"})})})]},n))})]})})}),r(A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",my:"10px",p:0},children:[e(m,{children:e(S,{to:"/schedule/view",children:e(x,{variant:"contained",color:"primary",style:{textTransform:"none"},children:"View Schedules"})})}),e(m,{children:e(S,{to:"/date/add",children:e(x,{variant:"contained",color:"secondary",style:{textTransform:"none"},children:"Set Date/Time"})})})]})]})},Kr=async t=>{await((n=2200)=>new Promise(s=>setTimeout(s,n)))(),await fetch("https://user.technolashes.com/api/availability",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(n=>{switch(n.status){case 200:return n.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(n=>{if(n)return document.getElementById("schedule-add-success").style.display="flex",n}).catch(n=>{document.getElementById("schedule-add-error").style.display="flex",document.getElementById("schedule-add-error-message").innerHTML=n,console.log(n)})},gt=()=>{const t=pe();return ie("schedule-add",Kr,{refetchOnWindowFocus:!1,onSuccess:()=>{t.invalidateQueries("schedule-all")}})},Qr=Te({components:{MuiInputLabel:{styleOverrides:{root:{color:"#b39ddb"}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:"#ede7f6 !important"}}}}}),Jr=()=>{const{date:t}=ne(),[i,n]=w.exports.useState(new Date(t+" 06:00")),[s,o]=w.exports.useState(new Date(t+" 18:00")),{register:a,handleSubmit:u,formState:{errors:l}}=ce(),{mutate:p}=gt();return r(E,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"schedule-add-error",severity:"error",style:{display:"none"},children:e("strong",{id:"schedule-add-error-message"})}),e(L,{id:"schedule-add-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Time Set Successfully!"})})]}),e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Set Time"})}),e(c,{sx:{m:"10px"},variant:"subtitle1",color:"primary",children:e("strong",{children:t})}),r("form",{onSubmit:u(h=>{document.getElementById("schedule-add-success").style.display="none",document.getElementById("schedule-add-error").style.display="none";let d=h.startTime,b=h.endTime;h.startTime.match("am")?d=d.substring(0,5):h.startTime.match("pm")&&(d=parseInt(h.startTime.substring(0,2))+12,d=d.toString()+":"+h.startTime.substring(3,5)),h.endTime.match("am")?b=b.substring(0,5):h.endTime.match("pm")&&(b=parseInt(h.endTime.substring(0,2))+12,b=b.toString()+":"+h.endTime.substring(3,5)),p({date:t,startTime:d,endTime:b})}),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"30px",backgroundColor:"#671E15"},children:[e(Ce,{dateAdapter:De,children:r(ke,{theme:Qr,children:[e(m,{style:{margin:"10px"},children:e(re,{label:"Start Time",value:i,onChange:h=>n(h),renderInput:h=>e(I,T(g(g({},h),a("startTime",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),l.startTime&&e("span",{style:C,children:"! Please choose start time ..."}),e(m,{style:{margin:"10px"},children:e(re,{label:"End Time",value:s,onChange:h=>o(h),renderInput:h=>e(I,T(g(g({},h),a("endTime",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),l.endTime&&e("span",{style:C,children:"! Please choose end time ..."})]})}),e(m,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(x,{type:"submit",variant:"contained",color:"success",sx:{width:"100%"},style:{textTransform:"none"},children:"Create"})})]}),e(S,{to:"/schedule/all",children:r(x,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(q,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},Xr=["openTo","views","minDate","maxDate"],xt=t=>t.length===1&&t[0]==="year",ft=t=>t.length===2&&t.indexOf("month")!==-1&&t.indexOf("year")!==-1,en=(t,i)=>xt(t)?{mask:"____",inputFormat:i.formats.year}:ft(t)?{disableMaskedInput:!0,inputFormat:i.formats.monthAndYear}:{mask:"__/__/____",inputFormat:i.formats.keyboardDate};function bt(t,i){let{openTo:n="day",views:s=["year","day"],minDate:o,maxDate:a}=t,u=ye(t,Xr);const l=ct(),p=mr(),y=o!=null?o:p.minDate,h=a!=null?a:p.maxDate;return at({props:Y({views:s,openTo:n,minDate:y,maxDate:h},en(s,l),u),name:i})}const tn=["date","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],wt=Zt("PrivateDatePickerToolbar",["penIcon"]),rn=lt(pr)({[`& .${wt.penIcon}`]:{position:"relative",top:4}}),nn=lt(c)(({ownerState:t})=>Y({},t.isLandscape&&{margin:"auto 16px auto auto"})),St=w.exports.forwardRef(function(i,n){const{date:s,isLandscape:o,isMobileKeyboardViewOpen:a,toggleMobileKeyboardView:u,toolbarFormat:l,toolbarPlaceholder:p="\u2013\u2013",toolbarTitle:y="Select date",views:h}=i,d=ye(i,tn),b=ct(),f=w.exports.useMemo(()=>s?l?b.formatByString(s,l):xt(h)?b.format(s,"year"):ft(h)?b.format(s,"month"):/en/.test(b.getCurrentLocaleCode())?b.format(s,"normalDateWithWeekday"):b.format(s,"normalDate"):p,[s,l,p,b,h]),k=i;return e(rn,Y({ref:n,toolbarTitle:y,isMobileKeyboardViewOpen:a,toggleMobileKeyboardView:u,isLandscape:o,penIconClassName:wt.penIcon,ownerState:k},d,{children:e(nn,{variant:"h4",align:o?"left":"center",ownerState:k,children:f})}))}),sn=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","clearText","clearable"],on={emptyValue:null,parseInput:dt,areValuesEqual:(t,i,n)=>t.isEqual(i,n)},an=w.exports.forwardRef(function(i,n){const s=bt(i,"MuiDesktopDatePicker"),o=ut(s)!==null,{pickerProps:a,inputProps:u,wrapperProps:l}=ht(s,on),{PopperProps:p,PaperProps:y,ToolbarComponent:h=St,TransitionComponent:d,clearText:b,clearable:f}=s,k=ye(s,sn),M=Y({},u,k,{ref:n,validationError:o});return e(yr,Y({},l,{DateInputProps:M,KeyboardDateInputComponent:gr,PopperProps:p,PaperProps:y,TransitionComponent:d,clearText:b,clearable:f,children:e(mt,Y({},a,{autoFocus:!0,toolbarTitle:s.label||s.toolbarTitle,ToolbarComponent:h,DateInputProps:M},k))}))}),ln=["ToolbarComponent","value","onChange"],cn={emptyValue:null,parseInput:dt,areValuesEqual:(t,i,n)=>t.isEqual(i,n)},dn=w.exports.forwardRef(function(i,n){const s=bt(i,"MuiMobileDatePicker"),o=ut(s)!==null,{pickerProps:a,inputProps:u,wrapperProps:l}=ht(s,cn),{ToolbarComponent:p=St}=s,y=ye(s,ln),h=Y({},u,y,{ref:n,validationError:o});return e(xr,Y({},y,l,{DateInputProps:h,PureDateInputComponent:fr,children:e(mt,Y({},a,{autoFocus:!0,toolbarTitle:s.label||s.toolbarTitle,ToolbarComponent:p,DateInputProps:h},y))}))}),un=["cancelText","clearable","clearText","desktopModeMediaQuery","DialogProps","okText","PopperProps","showTodayButton","todayText","TransitionComponent"],hn=w.exports.forwardRef(function(i,n){const s=at({props:i,name:"MuiDatePicker"}),{cancelText:o,clearable:a,clearText:u,desktopModeMediaQuery:l="@media (pointer: fine)",DialogProps:p,okText:y,PopperProps:h,showTodayButton:d,todayText:b,TransitionComponent:f}=s,k=ye(s,un);return Kt(l)?e(an,Y({ref:n,PopperProps:h,TransitionComponent:f,clearText:u,clearable:a},k)):e(dn,Y({ref:n,cancelText:o,clearable:a,clearText:u,DialogProps:p,okText:y,showTodayButton:d,todayText:b},k))}),mn=Te({components:{MuiInputLabel:{styleOverrides:{root:{color:"#b39ddb"}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:"#ede7f6 !important"}}}}}),pn=()=>{const[t,i]=w.exports.useState(new Date().toDateString()),[n,s]=w.exports.useState(new Date(t+" 06:00")),[o,a]=w.exports.useState(new Date(t+" 18:00")),{register:u,handleSubmit:l,formState:{errors:p}}=ce(),{mutate:y}=gt();return r(E,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"schedule-add-error",severity:"error",style:{display:"none"},children:e("strong",{id:"schedule-add-error-message"})}),e(L,{id:"schedule-add-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Date/Time Set Successfully!"})})]}),e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Set Date/Time"})}),r("form",{onSubmit:l(d=>{document.getElementById("schedule-add-success").style.display="none",document.getElementById("schedule-add-error").style.display="none";const b=new Date(d.date).toDateString();let f=d.startTime,k=d.endTime;d.startTime.match("am")?f=f.substring(0,5):d.startTime.match("pm")&&(f=parseInt(d.startTime.substring(0,2))+12,f=f.toString()+":"+d.startTime.substring(3,5)),d.endTime.match("am")?k=k.substring(0,5):d.endTime.match("pm")&&(k=parseInt(d.endTime.substring(0,2))+12,k=k.toString()+":"+d.endTime.substring(3,5)),y({date:b,startTime:f,endTime:k})}),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"30px",backgroundColor:"#671E15"},children:[e(Ce,{dateAdapter:De,children:r(ke,{theme:mn,children:[e(m,{style:{margin:"10px"},children:e(hn,{label:"Select Date - MM/dd/YYYY",value:t,onChange:d=>i(d),renderInput:d=>e(I,T(g(g({},d),u("date",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),p.date&&e("span",{style:C,children:"! Please choose date ..."}),e(m,{style:{margin:"10px"},children:e(re,{label:"Start Time",value:n,onChange:d=>s(d),renderInput:d=>e(I,T(g(g({},d),u("startTime",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),p.startTime&&e("span",{style:C,children:"! Please choose start time ..."}),e(m,{style:{margin:"10px"},children:e(re,{label:"End Time",value:o,onChange:d=>a(d),renderInput:d=>e(I,T(g(g({},d),u("endTime",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),p.endTime&&e("span",{style:C,children:"! Please choose end time ..."})]})}),e(m,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(x,{type:"submit",variant:"contained",color:"success",sx:{width:"100%"},style:{textTransform:"none"},children:"Create"})})]}),e(S,{to:"/schedule/all",children:r(x,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(q,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},yn=()=>{const{isLoading:t,isError:i,error:n,data:s,isFetching:o}=br();return r(E,{children:[e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"ALL Schedules"})}),e(m,{sx:{m:"10px"},children:e(be,{component:we,style:{maxHeight:373,overflow:"auto"},children:e(Se,{"aria-label":"simple table",children:e(ve,{children:t||o?e(W,{sx:{display:"flex",justifyContent:"center"},children:e($,{children:e(z,{color:"secondary"})})}):i?e(W,{sx:{display:"flex",justifyContent:"center"},children:e($,{children:r(c,{style:{color:"rgb(0,0,0)"},children:["Error: ",n.message]})})}):s?s.map(a=>r(W,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e($,{component:"th",scope:"row",sx:{my:0,py:0,px:"5px",textAlign:"center"},children:e(c,{variant:"subtitle2",style:{color:"rgb(0,0,0)"},children:new Date().toDateString()===new Date(a.date).toDateString()?e("strong",{children:new Date(a.date).toDateString()}):new Date(a.date).toDateString()})}),r($,{component:"th",scope:"row",sx:{display:"flex",justifyContent:"flex-end",px:"5px",my:0,py:0},children:[e(S,{to:`/schedule/edit/${a.availabilityID}`,children:e(x,{size:"small",variant:"contained",color:"warning",style:{textTransform:"none"},children:"Edit"})}),e(S,{style:{marginLeft:"3px",marginRight:"0",float:"right"},to:`/schedule/delete/${a.availabilityID}`,children:e(x,{size:"small",variant:"contained",color:"error",style:{textTransform:"none"},children:"Delete"})})]})]},a.availabilityID)):null})})})}),e(S,{to:"/schedule/all",children:r(x,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(q,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},gn=async({queryKey:t})=>{await((o=1100)=>new Promise(a=>setTimeout(a,o)))();const n=t[1];return await fetch(`https://user.technolashes.com/api/availability/${n}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(o=>{switch(o.status){case 200:return o.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(o=>{if(o)return o}).catch(o=>console.log(o))},vt=t=>oe(["availability-single",t],gn,{refetchOnWindowFocus:!1}),xn=async t=>{await((s=2200)=>new Promise(o=>setTimeout(o,s)))();const n=t.availabilityID;await fetch(`https://user.technolashes.com/api/availability/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(s=>{switch(s.status){case 200:return s.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(s=>{if(s)return document.getElementById("schedule-edit-success").style.display="flex",s}).catch(s=>{document.getElementById("schedule-edit-error").style.display="flex",document.getElementById("schedule-edit-error-message").innerHTML=s,console.log(s)})},fn=()=>{const t=pe();return ie("schedule-edit",xn,{refetchOnWindowFocus:!1,onSuccess:()=>{t.invalidateQueries("schedule-all")}})},bn=Te({components:{MuiInputLabel:{styleOverrides:{root:{color:"#b39ddb","&.Mui-disabled":{color:"#fff176"}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:"#ede7f6 !important"},root:{"&.Mui-disabled":{borderColor:"#b39ddb"}}}}}}),wn=()=>{const[t,i]=w.exports.useState(new Date().toDateString()),[n,s]=w.exports.useState(""),[o,a]=w.exports.useState(""),{id:u}=ne(),{isLoading:l,isError:p,error:y,data:h,isFetching:d}=vt(u);w.exports.useEffect(()=>{h&&(i(new Date(h.date).toDateString()),s(h.startTime),a(h.endTime))},[h]);const{register:b,handleSubmit:f,formState:{errors:k}}=ce(),{mutate:M}=fn();return r(E,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"schedule-edit-error",severity:"error",style:{display:"none"},children:e("strong",{id:"schedule-edit-error-message"})}),e(L,{id:"schedule-edit-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Time Edit Successfully!"})})]}),e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Edit Schedule"})}),l||d?e(m,{sx:{display:"flex",justifyContent:"center",m:2},children:e(z,{color:"secondary"})}):p?e(A,{sx:{display:"flex",justifyContent:"center"},children:r(c,{style:{color:"white"},children:["Error: ",y.message]})}):h?e(E,{children:r("form",{onSubmit:f(D=>{document.getElementById("schedule-edit-success").style.display="none",document.getElementById("schedule-edit-error").style.display="none";const K=new Date(t).toDateString();let j=D.startTime,F=D.endTime;D.startTime.match("am")?j=j.substring(0,5):D.startTime.match("pm")&&(j=parseInt(D.startTime.substring(0,2))+12,j=j.toString()+":"+D.startTime.substring(3,5)),D.endTime.match("am")?F=F.substring(0,5):D.endTime.match("pm")&&(F=parseInt(D.endTime.substring(0,2))+12,F=F.toString()+":"+D.endTime.substring(3,5)),M({availabilityID:u,date:K,startTime:j,endTime:F})}),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"30px",backgroundColor:"#671E15"},children:[e(Ce,{dateAdapter:De,children:r(ke,{theme:bn,children:[e(m,{style:{margin:"10px"},children:e(c,{sx:{m:"10px",color:"#ede7f6"},variant:"h5",children:e("strong",{children:t})})}),e(m,{style:{margin:"10px"},children:e(re,{label:"Start Time",value:n,onChange:D=>s(D),renderInput:D=>e(I,T(g(g({},D),b("startTime",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),k.startTime&&e("span",{style:C,children:"! Please choose start time ..."}),e(m,{style:{margin:"10px"},children:e(re,{label:"End Time",value:o,onChange:D=>a(D),renderInput:D=>e(I,T(g(g({},D),b("endTime",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),k.endTime&&e("span",{style:C,children:"! Please choose end time ..."})]})}),e(m,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(x,{type:"submit",variant:"contained",color:"success",sx:{width:"100%"},style:{textTransform:"none"},children:"Confirm"})})]})}):null,e(S,{to:"/schedule/view",children:r(x,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(q,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},Sn=async t=>{await((s=1100)=>new Promise(o=>setTimeout(o,s)))();const n=t.availabilityID;await fetch(`https://user.technolashes.com/api/availability/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(s=>{switch(s.status){case 200:document.getElementById("schedule-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(s=>{document.getElementById("schedule-delete-error").style.display="flex",document.getElementById("schedule-delete-error-message").innerHTML=s,console.log(s)})},vn=()=>{const t=pe(),i=Me();return ie("schedule-delete",Sn,{refetchOnWindowFocus:!1,onSuccess:()=>{t.invalidateQueries("schedule-all"),setTimeout(()=>i("/schedule/view"),2500)}})},st={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Tn=()=>{const{id:t}=ne(),[i,n]=w.exports.useState(!0),{isLoading:s,isError:o,error:a,data:u,isFetching:l}=vt(t),p=()=>n(!0),y=()=>n(!1),{mutate:h}=vn(),d=b=>{b.preventDefault(),h({availabilityID:t})};return e(je,{open:i,onClose:p,style:{backgroundColor:"rgb(50,53,101)"},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:s||l?e(m,{sx:{style:st,display:"flex",justifyContent:"center",mt:40},children:e(z,{color:"secondary"})}):o?e(Container,{sx:{display:"flex",justifyContent:"center"},children:r(c,{style:{color:"white"},children:["Error: ",a.message]})}):u?r(m,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"schedule-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"schedule-delete-error-message"})}),e(L,{id:"schedule-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Deleted Successfully!"})})]}),r(m,{sx:st,children:[r(c,{id:"modal-modal-title",variant:"h6",color:"error",children:[e("strong",{style:{color:"blue"},children:new Date(u.date).toDateString()})," Date"]}),e(c,{id:"modal-modal-description",sx:{mt:2},color:"error",children:"Are you sure you want this date deleted?"}),r(x,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"error",onClick:d,children:["Yes",e(Ie,{fontSize:"small",sx:{ml:1}})]}),e(S,{to:"/schedule/view",children:r(x,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"primary",onClick:y,children:["No",e(q,{fontSize:"small",sx:{ml:"10px"}})]})})]})]}):null})},kn=async()=>(await((n=2200)=>new Promise(s=>setTimeout(s,n)))(),await fetch("https://user.technolashes.com/api/appointment/today",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(n=>{switch(n.status){case 200:return n.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(n=>{if(n)return n}).catch(n=>console.log(n))),Cn=()=>oe("appointment-today",kn,{refetchOnWindowFocus:!1}),Dn=()=>{const{isLoading:t,isError:i,error:n,data:s,isFetching:o}=Cn();return e(E,{children:t||o?e(A,{sx:{display:"flex",justifyContent:"center",mt:1},children:e(m,{children:e(z,{color:"secondary"})})}):i?e(A,{sx:{display:"flex",justifyContent:"center"},children:e(m,{children:r(c,{style:{color:"rgb(0,0,0)"},children:["Error: ",n.message]})})}):s?s.map(a=>r(X,{children:[e(O,{expandIcon:e(ee,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(c,{variant:"subtitle2",color:"primary",children:r("strong",{children:[new Date(a.booking.startTime).toLocaleTimeString().substring(0,5)+" ","-"," "+new Date(a.booking.endTime).toLocaleTimeString().substring(0,5)]})})}),r(U,{container:!0,spacing:2,children:[r(U,{item:!0,xs:7,children:[e(te,{children:e(O,{"aria-controls":"panel1a-content",id:"panel1a-header",sx:{minHeight:0,height:0,my:0,py:0},children:e(c,{variant:"subtitle1",children:r("strong",{style:{color:"rgb(50, 53, 101)"},children:[a.user.lastName,", ",a.user.firstName]})})})}),e(te,{children:e(O,{"aria-controls":"panel1a-content",id:"panel1a-header",children:r(c,{variant:"subtitle2",sx:{display:"flex",flexDirection:"column",mt:"-10px",p:0},textAlign:"left",children:[r("em",{children:["Service 1:"," ",a.booking.firstService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 2:"," ",a.booking.secondService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 3:"," ",a.booking.thirdService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 4:"," ",a.booking.fourthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 5:"," ",a.booking.fifthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]})]})})})]}),r(U,{item:!0,xs:5,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e(S,{to:`/appointment/edit/${a.booking.bookingID}`,children:e(x,{size:"small",variant:"contained",color:"warning",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Edit"})}),e(S,{to:`/appointment/delete/${a.bookingBookingID}`,children:e(x,{size:"small",variant:"contained",color:"error",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Delete"})})]})]})]},a.bookingBookingID)):null})},In=async()=>(await((n=3300)=>new Promise(s=>setTimeout(s,n)))(),await fetch("https://user.technolashes.com/api/appointment/upcoming",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(n=>{switch(n.status){case 200:return n.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(n=>{if(n)return n}).catch(n=>console.log(n))),En=()=>oe("appointment-upcoming",In,{refetchOnWindowFocus:!1}),Pn=()=>{const{isLoading:t,isError:i,error:n,data:s,isFetching:o}=En();let a;return s&&(a=s.reduce((u,l)=>(u.some(p=>p.booking.date===l.booking.date)||u.push(l),u),[])),e(E,{children:t||o?e(A,{sx:{display:"flex",justifyContent:"center",mt:1},children:e(m,{children:e(z,{color:"secondary"})})}):i?e(A,{sx:{display:"flex",justifyContent:"center"},children:e(m,{children:r(c,{style:{color:"rgb(0,0,0)"},children:["Error: ",n.message]})})}):s||a?a.map(u=>r(X,{children:[e(O,{expandIcon:e(ee,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(c,{variant:"subtitle2",color:"primary",children:e("strong",{children:new Date(u.booking.date).toDateString().substring(0,10)})})}),s.map(l=>{if(u.booking.date===l.booking.date)return r(X,{children:[e(O,{expandIcon:e(ee,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(c,{variant:"subtitle2",color:"secondary",children:r("em",{children:[new Date(l.booking.startTime).toLocaleTimeString().substring(0,5)+" ","-"," "+new Date(l.booking.endTime).toLocaleTimeString().substring(0,5)]})})}),r(U,{container:!0,spacing:2,children:[r(U,{item:!0,xs:7,children:[e(te,{children:e(O,{"aria-controls":"panel1a-content",id:"panel1a-header",sx:{minHeight:0,height:0,my:0,py:0},children:e(c,{variant:"subtitle1",children:r("strong",{style:{color:"rgb(50, 53, 101)"},children:[l.user.lastName,", ",l.user.firstName]})})})}),e(te,{children:e(O,{"aria-controls":"panel1a-content",id:"panel1a-header",children:r(c,{variant:"subtitle2",sx:{display:"flex",flexDirection:"column",mt:"-10px",p:0},textAlign:"left",children:[r("em",{children:["Service 1:"," ",l.booking.firstService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 2:"," ",l.booking.secondService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 3:"," ",l.booking.thirdService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 4:"," ",l.booking.fourthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 5:"," ",l.booking.fifthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]})]})})})]}),r(U,{item:!0,xs:5,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e(S,{to:`/appointment/edit/${l.booking.bookingID}`,children:e(x,{size:"small",variant:"contained",color:"warning",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Edit"})}),e(S,{to:`/appointment/delete/${l.bookingBookingID}`,children:e(x,{size:"small",variant:"contained",color:"error",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Delete"})})]})]})]},l.bookingBookingID)})]},u.bookingBookingID)):null})},An=async()=>(await((n=4400)=>new Promise(s=>setTimeout(s,n)))(),await fetch("https://user.technolashes.com/api/appointment/history",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(n=>{switch(n.status){case 200:return n.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(n=>{if(n)return n}).catch(n=>console.log(n))),Tt=()=>oe("appointment-history",An,{refetchOnWindowFocus:!1}),Bn=()=>{const{isLoading:t,isError:i,error:n,data:s,isFetching:o}=Tt();let a;return s&&(a=s.reduce((u,l)=>(u.some(p=>p.booking.date===l.booking.date)||u.push(l),u),[])),e(E,{children:t||o?e(A,{sx:{display:"flex",justifyContent:"center",mt:1},children:e(m,{children:e(z,{color:"secondary"})})}):i?e(A,{sx:{display:"flex",justifyContent:"center"},children:e(m,{children:r(c,{style:{color:"rgb(0,0,0)"},children:["Error: ",n.message]})})}):s||a?a.map(u=>r(X,{children:[e(O,{expandIcon:e(ee,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(c,{variant:"subtitle2",color:"primary",children:e("strong",{children:new Date(u.booking.date).toDateString().substring(0,10)})})}),s.map(l=>{if(u.booking.date===l.booking.date)return r(X,{children:[e(O,{expandIcon:e(ee,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(c,{variant:"subtitle2",color:"secondary",children:r("em",{children:[new Date(l.booking.startTime).toLocaleTimeString().substring(0,5)+" ","-"," "+new Date(l.booking.endTime).toLocaleTimeString().substring(0,5)]})})}),r(U,{container:!0,spacing:2,children:[r(U,{item:!0,xs:7,children:[e(te,{children:e(O,{"aria-controls":"panel1a-content",id:"panel1a-header",sx:{minHeight:0,height:0,my:0,py:0},children:e(c,{variant:"subtitle1",children:r("strong",{style:{color:"rgb(50, 53, 101)"},children:[l.user.lastName,", ",l.user.firstName]})})})}),e(te,{children:e(O,{"aria-controls":"panel1a-content",id:"panel1a-header",children:r(c,{variant:"subtitle2",sx:{display:"flex",flexDirection:"column",mt:"-10px",p:0},textAlign:"left",children:[r("em",{children:["Service 1:"," ",l.booking.firstService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 2:"," ",l.booking.secondService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 3:"," ",l.booking.thirdService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 4:"," ",l.booking.fourthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 5:"," ",l.booking.fifthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]})]})})})]}),e(U,{item:!0,xs:5,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e(S,{to:`/appointment/delete/${l.bookingBookingID}`,children:e(x,{size:"small",variant:"contained",color:"error",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Delete"})})})]})]},l.bookingBookingID)})]},u.bookingBookingID)):null})},Ln=()=>{const{isLoading:t,isError:i,error:n,data:s,isFetching:o}=Tt();let a,u;return s&&(a=s.reduce((l,p)=>(l.some(y=>y.userUserID===p.userUserID)||l.push(p),l),[]),u=s.reduce((l,p)=>(l.some(y=>y.booking.date===p.booking.date&&y.userUserID===p.userUserID)||l.push(p),l),[])),e(E,{children:t||o?e(A,{sx:{display:"flex",justifyContent:"center",mt:1},children:e(m,{children:e(z,{color:"secondary"})})}):i?e(A,{sx:{display:"flex",justifyContent:"center"},children:e(m,{children:r(c,{style:{color:"rgb(0,0,0)"},children:["Error: ",n.message]})})}):s||a?a.map(l=>r(X,{children:[e(O,{expandIcon:e(ee,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(c,{variant:"subtitle2",color:"primary",children:r("strong",{children:[l.user.lastName,", ",l.user.firstName]})})}),u.map(p=>{if(l.userUserID===p.userUserID)return r(X,{children:[e(O,{expandIcon:e(ee,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(c,{variant:"subtitle2",color:"secondary",children:e("em",{children:new Date(p.booking.date).toDateString().substring(0,10)})})}),s.map(y=>{if(p.userUserID===y.userUserID&&p.booking.date===y.booking.date)return r(X,{children:[e(te,{sx:{my:0,py:0},children:e(O,{expandIcon:e(ee,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{my:0,py:0},children:e(c,{variant:"subtitle2",children:r("strong",{style:{color:"rgb(50, 53, 101)"},children:[new Date(y.booking.startTime).toLocaleTimeString().substring(0,5)+" ","-"," "+new Date(y.booking.endTime).toLocaleTimeString().substring(0,5)]})})})}),r(U,{container:!0,spacing:2,children:[e(U,{item:!0,xs:7,children:e(te,{children:e(O,{"aria-controls":"panel1a-content",id:"panel1a-header",children:r(c,{variant:"subtitle2",sx:{display:"flex",flexDirection:"column",mt:"-10px",p:0},textAlign:"left",children:[r("em",{children:["Service 1:"," ",y.booking.firstService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 2:"," ",y.booking.secondService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 3:"," ",y.booking.thirdService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 4:"," ",y.booking.fourthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),r("em",{children:["Service 5:"," ",y.booking.fifthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]})]})})})}),e(U,{item:!0,xs:5,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e(S,{to:`/appointment/delete/${y.bookingBookingID}`,children:e(x,{size:"small",variant:"contained",color:"error",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Delete"})})})]})]},y.bookingBookingID)})]},p.bookingBookingID)})]},l.bookingBookingID)):null})},Nn=()=>{const t=()=>{document.getElementById("appointment-today").style.display="block",document.getElementById("appointment-upcoming").style.display="none",document.getElementById("appointment-history").style.display="none"},i=()=>{document.getElementById("appointment-today").style.display="none",document.getElementById("appointment-upcoming").style.display="block",document.getElementById("appointment-history").style.display="none"},n=()=>{document.getElementById("appointment-today").style.display="none",document.getElementById("appointment-upcoming").style.display="none",document.getElementById("appointment-history").style.display="block",document.getElementById("appointment-date").style.display="block",document.getElementById("appointment-user").style.display="none"};return r(E,{children:[e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"All Appointments"})}),r(m,{sx:{m:"10px"},children:[r(A,{sx:{display:"flex",justifyContent:"space-between"},children:[e(x,{variant:"contained",color:"success",onClick:t,children:"Today"}),e(x,{variant:"contained",color:"info",onClick:i,children:"Upcoming"}),e(x,{variant:"contained",color:"secondary",onClick:n,children:"History"})]}),e(be,{component:we,style:{maxHeight:445,overflow:"auto"},sx:{mt:1},children:e(Se,{"aria-label":"simple table",children:e(ve,{children:r(W,{children:[e($,{id:"appointment-today",style:{display:"block"},children:e(Dn,{})}),e($,{id:"appointment-upcoming",style:{display:"none"},children:e(Pn,{})}),r($,{id:"appointment-history",style:{display:"none"},children:[r(A,{sx:{display:"flex",justifyContent:"space-around",mb:"10px"},children:[e(x,{size:"small",variant:"text",color:"primary",onClick:n,sx:{width:1,textTransform:"none"},children:"by Date"}),e(x,{size:"small",variant:"text",color:"warning",onClick:()=>{document.getElementById("appointment-today").style.display="none",document.getElementById("appointment-upcoming").style.display="none",document.getElementById("appointment-history").style.display="block",document.getElementById("appointment-date").style.display="none",document.getElementById("appointment-user").style.display="block"},sx:{width:1,textTransform:"none"},children:"by User"})]}),e(m,{id:"appointment-date",style:{display:"none"},children:e(Bn,{})}),e(m,{id:"appointment-user",style:{display:"none"},children:e(Ln,{})})]})]})})})})]})]})},$n=async({queryKey:t})=>{await((s=2200)=>new Promise(o=>setTimeout(o,s)))();const n=t[1];if(n)return await fetch(`https://user.technolashes.com/api/appointment/booking/${n}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(o=>{switch(o.status){case 200:return o.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(o=>{if(o)return o}).catch(o=>console.log(o))},kt=t=>oe(["appointment-booking",t],$n,{refetchOnWindowFocus:!1}),On=async({queryKey:t})=>{await((s=4400)=>new Promise(o=>setTimeout(o,s)))();const n=t[1];if(n)return await fetch(`https://user.technolashes.com/api/availability/date/${n}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(o=>{switch(o.status){case 200:return o.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(o=>{if(o)return o}).catch(o=>console.log(o))},zn=t=>oe(["availability-date",t],On,{refetchOnWindowFocus:!1}),Mn=async t=>{await((s=4400)=>new Promise(o=>setTimeout(o,s)))();const n=t.bookingID;await fetch(`https://user.technolashes.com/api/booking/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(s=>{switch(s.status){case 200:return s.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(s=>{if(s)return document.getElementById("booking-edit-success").style.display="flex",s}).catch(s=>{document.getElementById("booking-edit-error").style.display="flex",document.getElementById("booking-edit-error-message").innerHTML=s,console.log(s)})},jn=()=>ie("appointment-edit",Mn,{refetchOnWindowFocus:!1}),_=wr.exports.extendMoment(Sr),Fn=Te({components:{MuiInputLabel:{styleOverrides:{root:{color:"#b39ddb"}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:"#ede7f6 !important"}}}}}),_n=()=>{const{id:t}=ne(),[i,n]=w.exports.useState(""),[s,o]=w.exports.useState(""),[a,u]=w.exports.useState(""),[l,p]=w.exports.useState(""),[y,h]=w.exports.useState(""),[d,b]=w.exports.useState(!1),[f,k]=w.exports.useState(!1),[M,P]=w.exports.useState(!1),[D,K]=w.exports.useState(!1),[j,F]=w.exports.useState(!1),[Ee,V]=w.exports.useState(),[Ct,Dt]=w.exports.useState(),[It,He]=w.exports.useState(!0);let ge,G,Pe,Ae,Be,We,Re=0,Ge;const{isLoading:Et,isFetching:Pt,isError:At,error:Bt,data:N}=kt(t),{isLoading:Lt,isFetching:Nt,isError:$t,data:de}=zn(a),{data:ae}=vr(),{register:se,handleSubmit:Ot,formState:{errors:Ze}}=ce(),{mutate:zt}=jn();w.exports.useEffect(()=>{N&&(n(N[0].user.firstName),o(N[0].user.lastName),u(N[0].booking.date),p(new Date(new Date(N[0].booking.date).toDateString()+" "+new Date(N[0].booking.startTime).toLocaleTimeString().substring(0,5))),h(new Date(new Date(N[0].booking.date).toDateString()+" "+new Date(N[0].booking.endTime).toLocaleTimeString().substring(0,5))),N[0].booking.firstService=="true"?b(!0):b(!1),N[0].booking.secondService=="true"?k(!0):k(!1),N[0].booking.thirdService=="true"?P(!0):P(!1),N[0].booking.fourthService=="true"?K(!0):K(!1),N[0].booking.fifthService=="true"?F(!0):F(!1)),de&&(V(de.startTime),Dt(de.endTime))},[N,de]),a&&(ge=new Date(new Date(a).setDate(new Date(a).getDate()+1)).toISOString().substring(0,10),G=ge.toLocaleString().replace(",","").replaceAll("/","-").split(" "),Pe=new Date(Ee).toLocaleTimeString().substring(0,5),Ae=new Date(Ct).toLocaleTimeString().substring(0,4)+"1",We=new Date(new Date(ge+" "+Pe).setMinutes(new Date(ge+" "+Pe).getMinutes()-1)),Be=new Date(We).toLocaleString().substring(12,17));const Mt=v=>{document.getElementById("booking-edit-success").style.display="none",document.getElementById("booking-edit-error").style.display="none";let Q=v.startTime,J=v.endTime;v.startTime.match("am")?Q=Q.substring(0,5):v.startTime.match("pm")&&(Q=parseInt(v.startTime.substring(0,2))+12,Q=Q.toString()+":"+v.startTime.substring(3,5)),v.endTime.match("am")?J=J.substring(0,5):v.endTime.match("pm")&&(J=parseInt(v.endTime.substring(0,2))+12,J=J.toString()+":"+v.endTime.substring(3,5));const ue=_(`${G} ${Q}`).isBetween(_(`${G} ${Be}`),_(`${G} ${Ae}`))&&_(`${G} ${J}`).isBetween(_(`${G} ${Be}`),_(`${G} ${Ae}`)),Le=()=>{throw document.getElementById("booking-edit-error").style.display="flex",document.getElementById("booking-edit-error-message").innerHTML="Booking Date/Time Unavailable",new Error("Overlapping Date/Time")},Ke=()=>{v.serviceOne==!1&&v.serviceTwo==!1&&v.serviceThree==!1&&v.serviceFour==!1&&v.serviceFive==!1?(He(!1),console.log("Need to pick one service")):(Ge={bookingID:t,date:new Date(a).toDateString(),startTime:Q,endTime:J,firstService:d,secondService:f,thirdService:M,fourthService:D,fifthService:j},He(!0),zt(Ge))};if(ae){if(ae.length<1&&ue)Ke();else if(ae.length<1&&!ue)Le();else if(ae.length>=1&&!ue)Le();else if(ae.length>=1&&ue){const jt=ae.filter(le=>le.bookingID!=t);for(let le of jt){const Ft=new Date(le.date).setDate(new Date(le.date).getDate()+1),Qe=new Date(Ft).toISOString().substring(0,10),_t=new Date(le.startTime).toLocaleString().replace(",","").replaceAll("/","-").split(" ")[1].substring(0,5),Ut=new Date(le.endTime).toLocaleString().replace(",","").replaceAll("/","-").split(" ")[1].substring(0,5);_.range([_(`${G} ${Q}`),_(`${G} ${J}`)]).overlaps(_.range([_(`${Qe} ${_t}`),_(`${Qe} ${Ut}`)]))&&Re++}Re>=1?Le():ue&&Ke()}}};return e(E,{children:Et||Pt||Lt||Nt?e(A,{sx:{my:"10px",display:"flex",justifyContent:"center"},children:e(m,{children:e(z,{color:"secondary"})})}):At||$t?e(A,{sx:{display:"flex",justifyContent:"center"},children:e(m,{children:r(c,{style:{color:"rgb(0,0,0)"},children:["Error ",Bt.message]})})}):N||de?r(E,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"booking-edit-error",severity:"error",style:{display:"none"},children:e("strong",{id:"booking-edit-error-message"})}),e(L,{id:"booking-edit-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Edit Successfully!"})})]}),e(c,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Edit Booking"})}),e(c,{sx:{m:"10px"},variant:"subtitle1",color:"primary",children:e("strong",{children:new Date(a).toDateString()})}),e(c,{sx:{m:"10px"},variant:"subtitle1",color:"success",children:r("strong",{children:[s,", ",i]})}),r("form",{onSubmit:Ot(Mt),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"30px",backgroundColor:"#671E15"},children:[e(Ce,{dateAdapter:De,children:r(ke,{theme:Fn,children:[e(m,{style:{margin:"10px"},children:e(re,{label:"Start Time",value:l,onChange:v=>p(v),renderInput:v=>e(I,T(g(g({},v),se("startTime",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),Ze.startTime&&e("span",{style:C,children:"! Please choose start time ..."}),e(m,{style:{margin:"10px"},children:e(re,{label:"End Time",value:y,onChange:v=>h(v),renderInput:v=>e(I,T(g(g({},v),se("endTime",{required:!0})),{sx:{input:{color:"#d1c4e9"}}}))})}),Ze.endTime&&e("span",{style:C,children:"! Please choose end time ..."})]})}),r(Qt,{sx:{width:1,ml:11,mt:2},children:[e(he,T(g({},se("serviceOne")),{control:e(me,{color:"success",sx:{color:"rgb(255,255,255)"},checked:d,onChange:v=>b(v.target.checked)}),label:"Service 1",sx:{color:"rgb(255,255,255)"}})),e(he,T(g({},se("serviceTwo")),{control:e(me,{color:"success",checked:f,sx:{color:"rgb(255,255,255)"},onChange:v=>k(v.target.checked)}),label:"Service 2",sx:{color:"rgb(255,255,255)"}})),e(he,T(g({},se("serviceThree")),{control:e(me,{color:"success",checked:M,sx:{color:"rgb(255,255,255)"},onChange:v=>P(v.target.checked)}),label:"Service 3",sx:{color:"rgb(255,255,255)"}})),e(he,T(g({},se("serviceFour")),{control:e(me,{color:"success",checked:D,sx:{color:"rgb(255,255,255)"},onChange:v=>K(v.target.checked)}),label:"Service 4",sx:{color:"rgb(255,255,255)"}})),e(he,T(g({},se("serviceFive")),{control:e(me,{color:"success",checked:j,sx:{color:"rgb(255,255,255)"},onChange:v=>F(v.target.checked)}),label:"Service 5",sx:{color:"rgb(255,255,255)"}}))]}),It?null:e("span",{style:C,children:"! Please pick at least 1 service ..."}),e(m,{sx:{display:"flex",justifyContent:"center",mt:"10px",width:"50%"},children:e(x,{type:"submit",variant:"contained",color:"warning",sx:{width:1},style:{textTransform:"none"},children:"Edit"})})]}),e(S,{to:"/appointment",children:r(x,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(q,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]}):null})},Un=async t=>{await((s=2200)=>new Promise(o=>setTimeout(o,s)))();const n=t.bookingID;await fetch(`https://user.technolashes.com/api/booking/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(s=>{switch(s.status){case 200:document.getElementById("booking-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(s=>{document.getElementById("booking-delete-error").style.display="flex",document.getElementById("booking-delete-error-message").innerHTML=s,console.log(s)})},Vn=()=>{const t=Me();return ie(Un,{refetchOnWindowFocus:!1,onSuccess:()=>{setTimeout(()=>t("/appointment"),2500)}})},ot={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Yn=()=>{const{id:t}=ne(),{isLoading:i,isError:n,error:s,data:o,isFetching:a}=kt(t),[u,l]=w.exports.useState(!0),p=()=>l(!0),y=()=>l(!1),{mutate:h}=Vn(),d=b=>{b.preventDefault(),h({bookingID:t})};return e(je,{open:u,onClose:p,style:{backgroundColor:"rgb(50,53,101)"},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:i||a?e(m,{sx:{style:ot,display:"flex",justifyContent:"center",mt:40},children:e(z,{color:"secondary"})}):n?e(Container,{sx:{display:"flex",justifyContent:"center"},children:r(c,{style:{color:"white"},children:["Error: ",s.message]})}):o?r(m,{children:[r(Z,{sx:{width:"100%"},children:[e(L,{id:"booking-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"booking-delete-error-message"})}),e(L,{id:"booking-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Deleted Successfully!"})})]}),r(m,{sx:ot,children:[r(c,{id:"modal-modal-title",variant:"h6",color:"error",children:[r("em",{style:{color:"rgb(0,0,0)"},children:[o[0].user.lastName,", ",o[0].user.firstName,e("br",{})]}),r("strong",{style:{color:"blue"},children:[" "+new Date(o[0].booking.date).toDateString().substring(0,10)+" ",new Date(o[0].booking.startTime).toLocaleTimeString().substring(0,5),"-",new Date(o[0].booking.endTime).toLocaleTimeString().substring(0,5)+" "]})]}),e(c,{id:"modal-modal-description",sx:{mt:2},color:"error",children:"Are you sure you want this booking deleted?"}),r(x,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"error",onClick:d,children:["Yes",e(Ie,{fontSize:"small",sx:{ml:1}})]}),e(S,{to:"/appointment",children:r(x,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"primary",onClick:y,children:["No",e(q,{fontSize:"small",sx:{ml:"10px"}})]})})]})]}):null})},qn=()=>e(E,{children:r(Jt,{children:[e(B,{path:"display",element:e(Tr,{})}),e(B,{path:"appointment/delete/:id",element:e(Yn,{})}),e(B,{path:"appointment/edit/:id",element:e(_n,{})}),e(B,{path:"appointment",element:e(Nn,{})}),e(B,{path:"schedule/delete/:id",element:e(Tn,{})}),e(B,{path:"schedule/edit/:id",element:e(wn,{})}),e(B,{path:"schedule/view",element:e(yn,{})}),e(B,{path:"date/add",element:e(pn,{})}),e(B,{path:"schedule/add/:date",element:e(Jr,{})}),e(B,{path:"schedule/all",element:e(Zr,{})}),e(B,{path:"user/delete/:id",element:e(Gr,{})}),e(B,{path:"user/edit/:id",element:e(Ur,{})}),e(B,{path:"user/add",element:e(_r,{})}),e(B,{path:"user/single/:id",element:e(Pr,{})}),e(B,{path:"user/all",element:e(Er,{})}),e(B,{path:"settings",element:e(Cr,{})}),e(B,{path:"home",element:e(rt,{})}),e(B,{path:"/",element:e(rt,{})})]})}),Hn=()=>r("footer",{className:"footer-basic",children:[r(m,{className:"social",style:{padding:"10px 35px"},children:[e("a",{href:"https://m.instagram.com/",children:e(R,{"aria-label":"instagram",children:e(Xt,{fontSize:"medium",style:{color:"rgb(255,255,2555)"}})})}),e("a",{href:"https://m.youtube.com/",children:e(R,{"aria-label":"instagram",children:e(er,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})}),e("a",{href:"https://m.twitter.com/",children:e(R,{"aria-label":"instagram",children:e(tr,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})}),e("a",{href:"https://m.facebook.com/",children:e(R,{"aria-label":"instagram",children:e(rr,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})})]}),r(m,{id:"internal-links",children:[e(S,{to:"/",children:"Home"}),e(S,{to:"schedule/all",children:"Work Schedule"}),e(S,{to:"/appointment",children:"Appointment"})]}),e(c,{className:"copyright",variant:"caption",display:"block",align:"center",children:"AmourAila \xA9 2022"})]}),Wn=[{id:1,title:"Home",href:"home"},{id:2,title:"Work Schedule",href:"schedule/all"},{id:3,title:"Appointment",href:"appointment"},{id:4,title:"Settings",href:"settings"}],Xn=()=>{const[t,i]=et.useState(null);et.useState(!0);const n=a=>{i(a.currentTarget)},s=()=>{i(null)},o=async()=>{await((u=1001)=>new Promise(l=>setTimeout(l,u)))(),await fetch("https://user.technolashes.com/api/user/logout",{method:"POST",credentials:"include"}).then(u=>{u.status===200?(console.log("Logged out successfully!"),window.location.href="https://technolashes.com"):console.log("Error Logging out!")}).catch(u=>console.log(u))};return r(E,{children:[e(nr,{position:"static",children:e(A,{maxWidth:"xl",children:r(sr,{disableGutters:!0,children:[e(m,{sx:{display:"flex"},children:e(S,{to:"/",children:e(R,{size:"large","aria-label":"logo",color:"inherit",children:e("img",{src:"/assets/img/Logo.webp",alt:"Logo",height:"50",width:"50"})})})}),e(c,{variant:"h6",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"AmourAila"}),e(c,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"AmourAila"}),r(m,{sx:{flexGrow:0},children:[e(or,{title:"Open menu",children:e(R,{size:"large","aria-label":"current menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:n,color:"inherit",children:e(ir,{})})}),r(ar,{sx:{mt:"45px",width:"100%"},id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(t),onClose:s,style:{position:"absolute"},children:[Wn.map(a=>e(S,{to:a.href,style:{margin:0},children:e(Ne,{onClick:s,style:{width:"1000px"},children:e(c,{sx:{ml:"5px"},align:"center",color:"primary",children:a.title})})},a.id)),e(m,{sx:{display:"flex",justifyContent:"center",mr:"10px"},children:e(S,{to:"",onClick:s,children:r(x,{variant:"contained",color:"warning",onClick:o,style:{textTransform:"none"},children:[e(kr,{sx:{mr:"5px"}}),"Sign out"]})})})]})]})]})})}),e(qn,{}),e(Hn,{})]})};export{Xn as default};
