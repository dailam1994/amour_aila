var Oe=Object.defineProperty,_e=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var we=(r,l,t)=>l in r?Oe(r,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[l]=t,f=(r,l)=>{for(var t in l||(l={}))Re.call(l,t)&&we(r,t,l[t]);if(fe)for(var t of fe(l))He.call(l,t)&&we(r,t,l[t]);return r},I=(r,l)=>_e(r,Me(l));import{j as s,F as P,T as a,a as e,L as m,x as G,y as Q,z as J,C as A,l as U,u as Y,r as b,S as N,D as w,m as y,B as p,E as C,G as Ce,P as Ie,H as Pe,J as Be,K as R,N as k,O as Te,U as _,V as K,W as Ue,X as We,Y as M,Z as H,$ as j,I as $,a0 as X,a1 as oe,a2 as V,a3 as q,a4 as le,a5 as ne,a6 as Ae,a7 as Le,a8 as De,R as Fe,b as E,d as qe,c as Ve,e as Ye,f as Ze,g as be,A as Ge,h as Qe,i as Je,k as Ke,M as Xe}from"./vendor.c1326277.js";import{n as et,d as tt,a as rt,b as st,c as ee,e as nt,f as z,u as ae,g as te,h as re,i as lt,j as Z,k as ot,D as at,R as it,l as dt}from"./record.update.c89e5bd0.js";import{u as W,a as F,e as v,d as Ne}from"./guest.login.77313482.js";const ve=()=>(localStorage.getItem("colour")=="rgb(0,0,0)"?et():tt(),s(P,{children:[s(a,{sx:{m:"10px"},variant:"h4",children:[e("strong",{children:"Welcome Aila,"}),e(m,{to:"/tutorial",children:e(rt,{size:"small",color:"primary",sx:{position:"absolute",right:1,mr:"10px",mt:"10px"}})})]}),e(a,{sx:{my:"10px",mx:"30px",pb:"10px"},variant:"subtitle1",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}));var ie={},ct=Q.exports;Object.defineProperty(ie,"__esModule",{value:!0});var ze=ie.default=void 0,ut=ct(G),ht=J,pt=(0,ut.default)((0,ht.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");ze=ie.default=pt;var de={},mt=Q.exports;Object.defineProperty(de,"__esModule",{value:!0});var ke=de.default=void 0,yt=mt(G),xt=J,gt=(0,yt.default)((0,xt.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck");ke=de.default=gt;const ft=()=>s(P,{children:[e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Settings"})}),s(A,{sx:{my:"50px"},children:[e(m,{to:"/user/all",style:{margin:0},children:s(U,{children:[e(st,{color:"primary"}),e(a,{sx:{ml:"20px"},aligh:"center",color:"primary",children:"Account Management"}),e(ee,{fontSize:"small",color:"primary",style:{position:"absolute",right:"10px"}})]})}),e(m,{to:"/log/all",style:{margin:0},children:s(U,{children:[e(ze,{color:"primary"}),e(a,{sx:{ml:"20px"},aligh:"center",color:"primary",children:"Logs"}),e(ee,{fontSize:"small",color:"primary",style:{position:"absolute",right:"10px"}})]})}),e(m,{to:"/whitelist/all",style:{margin:0},children:s(U,{children:[e(ke,{color:"primary"}),e(a,{sx:{ml:"20px"},aligh:"center",color:"primary",children:"White Listing"}),e(ee,{fontSize:"small",color:"primary",style:{position:"absolute",right:"10px"}})]})}),e(m,{to:"/display",style:{margin:0},children:s(U,{children:[e(nt,{color:"primary"}),e(a,{sx:{ml:"20px"},aligh:"center",color:"primary",children:"Display Mode"}),e(ee,{fontSize:"small",color:"primary",style:{position:"absolute",right:"10px"}})]})})]})]}),wt=async()=>(await((t=1100)=>new Promise(n=>setTimeout(n,t)))(),await fetch("http://localhost:3333/api/users",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(t=>{switch(t.status){case 200:return t.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 404:throw new Error("404 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(t=>{if(t)return t}).catch(t=>{document.getElementById("user-all-error").style.display="flex",document.getElementById("user-all-error-message").innerHTML=t,console.log(t)})),bt=()=>Y("user-all",wt,{refetchOnWindowFocus:!1}),vt=()=>{const[r,l]=b.exports.useState(""),[t,n]=b.exports.useState(""),[o,u]=b.exports.useTransition(),{isLoading:h,isError:c,error:x,data:i,isFetching:S}=bt();let g;const L=d=>{n(d.target.value),u(()=>l(d.target.value))};return b.exports.useEffect(()=>{i&&(document.getElementById("user-all-error").style.display="none")},[i]),i&&(g=i.filter(d=>d.firstName.includes(r)||d.lastName.includes(r))),s(P,{children:[e(N,{sx:{width:"100%"},children:e(w,{id:"user-all-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-all-error-message"})})}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Account Management"})}),e(A,{sx:{display:"flex",justifyContent:"center"},children:e(m,{to:"/user/add",children:e(y,{variant:"contained",color:"success",children:"Create New User"})})}),e(p,{sx:{m:"10px"},style:{backgroundColor:"rgb(255,255,255)"},children:e(C,{sx:{width:1},variant:"filled",label:"Search",color:"secondary",value:t,onChange:L})}),e(p,{sx:{m:"10px"},children:e(Ce,{component:Ie,style:{maxHeight:373,overflow:"auto"},children:s(Pe,{"aria-label":"simple table",children:[e(Be,{children:e(R,{children:e(k,{style:{color:"rgb(0,0,0)"},children:e("strong",{children:"Clients"})})})}),e(Te,{children:h||o||S?e(R,{sx:{display:"flex",justifyContent:"center"},children:e(k,{children:e(_,{color:"secondary"})})}):c?e(R,{sx:{display:"flex",justifyContent:"center"},children:e(k,{children:s(a,{style:{color:"rgb(0,0,0)"},children:["Error ",x.message]})})}):g?g.map(d=>s(R,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e(k,{component:"th",scope:"row",sx:{my:0,py:0,px:"5px",textAlign:"center"},children:s(m,{to:`/user/single/${d.userID}`,style:{color:"rgb(0,0,0)"},children:[d.firstName," ",d.lastName]})}),s(k,{component:"th",scope:"row",sx:{display:"flex",justifyContent:"flex-end",pr:"5px",my:0,py:0},children:[e(m,{to:`/user/edit/${d.userID}`,children:e(y,{size:"small",variant:"contained",color:"warning",style:{textTransform:"none"},children:"Edit"})}),e(m,{style:{marginLeft:"3px",marginRight:"0",float:"right"},to:`/user/delete/${d.userID}`,children:e(y,{size:"small",variant:"contained",color:"error",style:{textTransform:"none"},children:"Delete"})})]})]},d.userID)):null})]})})}),e(m,{to:"/settings",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},St=()=>{const{id:r}=K(),{isLoading:l,isError:t,error:n,data:o,isFetching:u}=ae(r);return b.exports.useEffect(()=>{o&&(document.getElementById("user-single-error").style.display="none")},[o]),s(P,{children:[e(N,{sx:{width:"100%"},children:e(w,{id:"user-single-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-single-error-message"})})}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Client"})}),l||u?e(p,{sx:{display:"flex",justifyContent:"center",m:2},children:e(_,{color:"secondary"})}):t?e(A,{sx:{display:"flex",justifyContent:"center"},children:s(a,{style:{color:"white"},children:["Error: ",n.message]})}):o?s(Ue,{sx:{m:"10px"},children:[s(We,{children:[s(a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:["UserID: ",o.userID]}),s(a,{variant:"h5",component:"div",children:[o.firstName," ",o.lastName]}),e(a,{variant:"body2",color:"primary",children:new Date(o.dateOfBirth).toLocaleDateString()}),s(a,{variant:"body2",color:"secondary",children:["Username: ",o.username]}),s(a,{variant:"body2",color:"secondary",children:["Email: ",o.email]})]}),e(m,{to:"/user/all",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]},o.userID):null]})};var ce={},Et=Q.exports;Object.defineProperty(ce,"__esModule",{value:!0});var ue=ce.default=void 0,Ct=Et(G),It=J,Pt=(0,Ct.default)((0,It.jsx)("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm6 3h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v9c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-9c0-1.66-1.34-3-3-3zm1 11H5v-3c.9-.01 1.76-.37 2.4-1.01l1.09-1.07 1.07 1.07c1.31 1.31 3.59 1.3 4.89 0l1.08-1.07 1.07 1.07c.64.64 1.5 1 2.4 1.01v3zm0-4.5c-.51-.01-.99-.2-1.35-.57l-2.13-2.13-2.14 2.13c-.74.74-2.03.74-2.77 0L8.48 12.8l-2.14 2.13c-.35.36-.83.56-1.34.57V12c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v3.5z"}),"CakeOutlined");ue=ce.default=Pt;var he={},Bt=Q.exports;Object.defineProperty(he,"__esModule",{value:!0});var pe=he.default=void 0,Tt=Bt(G),At=J,Lt=(0,Tt.default)((0,At.jsx)("path",{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}),"EmailOutlined");pe=he.default=Lt;const Dt=async r=>{await((t=2200)=>new Promise(n=>setTimeout(n,t)))(),await fetch("http://localhost:3333/api/user",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(t=>{switch(t.status){case 200:return t.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(t=>{if(t)return document.getElementById("user-add-success").style.display="flex",t}).catch(t=>{document.getElementById("user-add-error").style.display="flex",document.getElementById("user-add-error-message").innerHTML=t,console.log(t)})},Nt=()=>{const r=H();return M("user-add",Dt,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("user-all")}})},zt=()=>{const r=W(),[l,t]=b.exports.useState({showPassword:!1}),[n,o]=b.exports.useState({showPassword:!1}),[u,h]=b.exports.useState("CLIENT"),{register:c,handleSubmit:x,watch:i,formState:{errors:S}}=F(),g=T=>{T=="password"?(t(I(f({},l),{showPassword:!l.showPassword})),l.showPassword?document.getElementById("password").setAttribute("type","text"):document.getElementById("password").setAttribute("type","password")):T=="confirmPassword"&&(o(I(f({},n),{showPassword:!n.showPassword})),n.showPassword?document.getElementById("confirmPassword").setAttribute("type","text"):document.getElementById("confirmPassword").setAttribute("type","password"))},L=i(["password","confirmPassword"]),d=L[0]==L[1],{mutate:B}=Nt();return s(P,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"user-add-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-add-error-message"})}),e(w,{id:"user-add-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Account Created Successfully!"})})]}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Create Account"})}),s("form",{onSubmit:x(T=>{document.getElementById("user-add-success").style.display="none",document.getElementById("user-add-error").style.display="none",d&&(T.roles=u,delete T.confirmPassword,B(T))}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 30px",borderRadius:"10px"},children:[e(C,f({id:"firstName",sx:{m:"10px"},variant:"outlined",name:"firstName",label:"First Name",InputLabelProps:{className:r.input},InputProps:{className:r.input}},c("firstName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),S.firstName&&e("span",{style:v,children:"! Invalid first name ..."}),e(C,f({id:"lastName",sx:{m:"10px"},variant:"outlined",name:"lastName",label:"Last Name",InputLabelProps:{className:r.input},InputProps:{className:r.input}},c("lastName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),S.lastName&&e("span",{style:v,children:"! Invalid last name ..."}),e(C,I(f({id:"dateOfBirth",sx:{m:"10px"},variant:"outlined",name:"dateOfBirth",label:"Date of Birth",InputLabelProps:{className:r.input}},c("dateOfBirth",{required:!0,pattern:/^[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/i})),{InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e(ue,{sx:{color:"rgb(255,255,255)"}})})}})),S.dateOfBirth&&e("span",{style:v,children:"! Invalid date of birth 'YYYY-MM-dd' ..."}),e(C,I(f({id:"email",sx:{m:"10px"},variant:"outlined",name:"email",label:"Email"},c("email",{required:!0,maxLength:200,pattern:/[a-zA-z0-9_.+-]+@[a-zA-z0-9-]+\.[a-zA-Z0-9-.]+/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e(pe,{sx:{color:"rgb(255,255,255)"}})})}})),S.email&&e("span",{style:v,children:"! Invalid email ..."}),e(C,I(f({id:"username",sx:{m:"10px"},variant:"outlined",name:"username",label:"Username"},c("username",{required:!0,pattern:/^[a-zA-Z0-9]{3,255}$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e(Ne,{sx:{color:"rgb(255,255,255)"}})})}})),S.username&&e("span",{style:v,children:"! Invalid username ..."}),e(C,I(f({id:"password",type:"text",sx:{m:"10px"},variant:"outlined",name:"password",label:"Password"},c("password",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e($,{"aria-label":"toggle password visibility",onClick:T=>g("password"),edge:"end",children:l.showPassword?e(te,{sx:{color:"rgb(255,255,255)"}}):e(re,{sx:{color:"rgb(255,255,255)"}})})})}})),S.password&&e("span",{style:v,children:"! Invalid password ..."}),e(C,I(f({id:"confirmPassword",type:"text",sx:{m:"10px"},variant:"outlined",name:"confirmPassword",label:"Confirm Password"},c("confirmPassword",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e($,{"aria-label":"toggle password visibility",onClick:T=>g("confirmPassword"),edge:"end",children:n.showPassword?e(te,{sx:{color:"rgb(255,255,255)"}}):e(re,{sx:{color:"rgb(255,255,255)"}})})})}})),S.confirmPassword&&e("span",{style:v,children:"! Invalid confirmation password ..."}),d?"":e("span",{style:v,children:"! Please make sure passwords match ..."}),e(p,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(y,{type:"submit",variant:"contained",color:"success",sx:{width:"50%"},style:{textTransform:"none"},children:"Create"})})]}),e(m,{to:"/user/all",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},kt=()=>{const r=W(),{id:l}=K(),[t,n]=b.exports.useState(""),[o,u]=b.exports.useState({showPassword:!0}),[h,c]=b.exports.useState({showPassword:!0}),{isLoading:x,isError:i,error:S,data:g,isFetching:L}=ae(l);b.exports.useEffect(()=>{document.getElementById("user-edit-error").style.display="none",g&&n(g.roles)},[g]);const{register:d,handleSubmit:B,watch:D,formState:{errors:T}}=F(),ye=O=>{O=="password"?(u(I(f({},o),{showPassword:!o.showPassword})),o.showPassword?document.getElementById("password").setAttribute("type","text"):document.getElementById("password").setAttribute("type","password")):O=="confirmPassword"&&(c(I(f({},h),{showPassword:!h.showPassword})),h.showPassword?document.getElementById("confirmPassword").setAttribute("type","text"):document.getElementById("confirmPassword").setAttribute("type","password"))},xe=D(["password","confirmPassword"]),ge=xe[0]==xe[1],{mutate:$e}=lt();return s(P,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"user-edit-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-edit-error-message"})}),e(w,{id:"user-edit-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Update Successfully!"})})]}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Edit User"})}),x||L?e(p,{sx:{display:"flex",justifyContent:"center",m:2},children:e(_,{color:"secondary"})}):i?e(A,{sx:{display:"flex",justifyContent:"center"},children:s(a,{style:{color:"white"},children:["Error: ",S.message]})}):g?e(P,{children:s("form",{onSubmit:B(O=>{document.getElementById("user-edit-success").style.display="none",document.getElementById("user-edit-error").style.display="none",ge&&(O.userID=l,O.roles=t,delete O.confirmPassword,$e(O))}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 30px",borderRadius:"10px"},children:[e(C,f({id:"firstName",color:"primary",sx:{m:"10px"},ref:d,variant:"outlined",name:"firstName",defaultValue:g.firstName,label:"First Name",InputLabelProps:{className:r.input},InputProps:{className:r.input}},d("firstName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),T.firstName&&e("span",{style:v,children:"! Invalid first name ..."}),e(C,f({id:"lastName",color:"primary",sx:{m:"10px"},ref:d,variant:"outlined",name:"lastName",defaultValue:g.lastName,label:"Last Name",InputLabelProps:{className:r.input},InputProps:{className:r.input}},d("lastName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),T.lastName&&e("span",{style:v,children:"! Invalid last name ..."}),e(C,I(f({id:"dateOfBirth",color:"primary",sx:{m:"10px"},ref:d,variant:"outlined",name:"dateOfBirth",defaultValue:g.dateOfBirth.substring(0,10),label:"Date Of Birth"},d("dateOfBirth",{required:!0,pattern:/^[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e(ue,{sx:{color:"rgb(255,255,255)"}})})}})),T.dateOfBirth&&e("span",{style:v,children:"! Invalid date of birth 'YYYY-MM-dd' ..."}),e(C,I(f({id:"email",color:"primary",sx:{m:"10px"},ref:d,variant:"outlined",name:"email",defaultValue:g.email,label:"Email"},d("email",{required:!0,maxLength:200,pattern:/[a-zA-z0-9_.+-]+@[a-zA-z0-9-]+\.[a-zA-Z0-9-.]+/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e(pe,{sx:{color:"rgb(255,255,255)"}})})}})),T.email&&e("span",{style:v,children:"! Invalid email ..."}),e(C,I(f({id:"username",color:"primary",sx:{m:"10px"},ref:d,variant:"outlined",name:"username",defaultValue:g.username,label:"Username"},d("username",{required:!0,pattern:/^[a-zA-Z0-9]{3,255}$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e(Ne,{sx:{color:"rgb(255,255,255)"}})})}})),T.username&&e("span",{style:v,children:"! Invalid username ..."}),e(C,I(f({id:"password",type:"password",color:"primary",sx:{m:"10px"},ref:d,variant:"outlined",name:"password",defaultValue:g.password,label:"Password"},d("password",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e($,{"aria-label":"toggle password visibility",onClick:O=>ye("password"),edge:"end",children:o.showPassword?e(te,{sx:{color:"rgb(255,255,255)"}}):e(re,{sx:{color:"rgb(255,255,255)"}})})})}})),T.password&&e("span",{style:v,children:"! Invalid password ..."}),e(C,I(f({id:"confirmPassword",type:"password",sx:{m:"10px"},ref:d,variant:"outlined",name:"confirmPassword",label:"Confirm Password",defaultValue:g.password},d("confirmPassword",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(j,{position:"end",children:e($,{"aria-label":"toggle password visibility",onClick:O=>ye("confirmPassword"),edge:"end",children:h.showPassword?e(te,{sx:{color:"rgb(255,255,255)"}}):e(re,{sx:{color:"rgb(255,255,255)"}})})})}})),T.confirmPassword&&e("span",{style:v,children:"! Invalid confirmation password ..."}),ge?"":e("span",{style:v,children:"! Please make sure passwords match ..."}),e(p,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(y,{variant:"contained",color:"warning",type:"submit",sx:{width:"50%"},style:{textTransform:"none"},children:"Edit"})})]})}):null,e(m,{to:"/user/all",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})};var me={},jt=Q.exports;Object.defineProperty(me,"__esModule",{value:!0});var se=me.default=void 0,$t=jt(G),Ot=J,_t=(0,$t.default)((0,Ot.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");se=me.default=_t;const Mt=async r=>{await((n=2200)=>new Promise(o=>setTimeout(o,n)))();const t=r.userID;await fetch(`http://localhost:3333/api/user/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(n=>{switch(n.status){case 200:document.getElementById("user-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(n=>{document.getElementById("user-delete-error").style.display="flex",document.getElementById("user-delete-error-message").innerHTML=n,console.log(n)})},Rt=()=>{const r=H(),l=X();return M(Mt,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("user-all"),setTimeout(()=>l("/user/all"),2500)}})},Se={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Ht=()=>{const{id:r}=K(),{isLoading:l,isError:t,error:n,data:o,isFetching:u}=ae(r),[h,c]=b.exports.useState(!0),x=()=>c(!0),i=()=>c(!1),{mutate:S}=Rt(),g=L=>{L.preventDefault(),S({userID:r})};return e(oe,{open:h,onClose:x,style:{backgroundColor:"rgb(50,53,101)"},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:l||u?e(p,{sx:{style:Se,display:"flex",justifyContent:"center",mt:40},children:e(_,{color:"secondary"})}):t?e(Container,{sx:{display:"flex",justifyContent:"center"},children:s(a,{style:{color:"white"},children:["Error: ",n.message]})}):o?s(p,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"user-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-delete-error-message"})}),e(w,{id:"user-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Deleted Successfully!"})})]}),s(p,{sx:Se,children:[s(a,{id:"modal-modal-title",variant:"h6",color:"error",children:[s("strong",{style:{color:"blue"},children:[o.firstName,"'s"]})," Account"]}),e(a,{id:"modal-modal-description",sx:{mt:2},color:"error",children:"Are you sure you want this user account deleted?"}),s(y,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"error",onClick:g,children:["Yes",e(se,{fontSize:"small",sx:{ml:1}})]}),e(m,{to:"/user/all",children:s(y,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"primary",onClick:i,children:["No",e(z,{fontSize:"small",sx:{ml:"10px"}})]})})]})]}):null})},Ut=async()=>(await((t=1100)=>new Promise(n=>setTimeout(n,t)))(),await fetch("http://localhost:3333/api/records",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(t=>{switch(t.status){case 200:return t.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 404:throw new Error("404 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(t=>{if(t)return t}).catch(t=>{document.getElementById("record-all-error").style.display="flex",document.getElementById("record-all-error-message").innerHTML=t,console.log(t)})),Wt=()=>Y("record-all",Ut,{refetchOnWindowFocus:!1}),Ft=()=>{const{isLoading:r,isError:l,error:t,data:n,isFetching:o}=Wt();let u,h;return b.exports.useEffect(()=>{n&&(document.getElementById("record-all-error").style.display="none")},[n]),n&&(u=n.reduce((c,x)=>(c.some(i=>i.userUserID===x.userUserID)||c.push(x),c),[]),h=n.reduce((c,x)=>(c.some(i=>i.record.date===x.record.date&&i.userUserID===x.userUserID)||c.push(x),c),[])),s(P,{children:[e(N,{sx:{width:"100%"},children:e(w,{id:"record-all-error",severity:"error",style:{display:"none"},children:e("strong",{id:"record-all-error-message"})})}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"ALL Records"})}),e(p,{sx:{m:"10px"},children:r||o?e(A,{sx:{display:"flex",justifyContent:"center",mt:1},children:e(p,{children:e(_,{color:"secondary"})})}):l?e(A,{sx:{display:"flex",justifyContent:"center"},children:e(p,{children:s(a,{style:{color:"rgb(0,0,0)"},children:["Error: ",t.message]})})}):n||u?u.map(c=>s(V,{children:[e(q,{expandIcon:e(Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(a,{variant:"subtitle2",color:"primary",children:s("strong",{children:[c.user.firstName," ",c.user.lastName]})})}),h.map(x=>{if(c.userUserID===x.userUserID)return s(V,{children:[e(q,{expandIcon:e(Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(a,{variant:"subtitle2",color:"secondary",children:e("em",{children:x.record.date})})}),n.map(i=>{if(x.userUserID===i.userUserID&&x.record.date===i.record.date)return s(V,{children:[e(le,{sx:{my:0,py:0},children:e(q,{expandIcon:e(Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{my:0,py:0},children:e(a,{variant:"subtitle2",children:s("strong",{style:{color:"rgb(50, 53, 101)"},children:[i.record.start+" ","-"," "+i.record.end]})})})}),s(ne,{container:!0,spacing:2,children:[e(ne,{item:!0,xs:7,children:e(le,{children:e(q,{"aria-controls":"panel1a-content",id:"panel1a-header",children:s(a,{variant:"subtitle2",sx:{display:"flex",flexDirection:"column",mt:"-10px",p:0},textAlign:"left",children:[s("em",{children:["Service 1:"," ",i.record.firstService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),s("em",{children:["Service 2:"," ",i.record.secondService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),s("em",{children:["Service 3:"," ",i.record.thirdService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),s("em",{children:["Service 4:"," ",i.record.fourthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),s("em",{children:["Service 5:"," ",i.record.fifthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]})]})})})}),s(ne,{item:!0,xs:5,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e(m,{to:`/record/update/${x.record.recordID}`,children:e(y,{size:"small",variant:"contained",color:"warning",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Edit"})}),e(m,{to:`/record/delete/${x.record.recordID}`,children:e(y,{size:"small",variant:"contained",color:"error",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Delete"})})]})]})]},i.recordRecordID)})]},x.recordRecordID)})]},c.recordRecordID)):null})]})},qt=async r=>{await((n=2200)=>new Promise(o=>setTimeout(o,n)))();const t=r.recordID;await fetch(`http://localhost:3333/api/record/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(n=>{switch(n.status){case 200:document.getElementById("record-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(n=>{document.getElementById("record-delete-error").style.display="flex",document.getElementById("record-delete-error-message").innerHTML=n,console.log(n)})},Vt=()=>{const r=H(),l=X();return M(qt,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("record-all"),setTimeout(()=>l("/record"),2500)}})},Ee={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Yt=()=>{const{id:r}=K(),{isLoading:l,isError:t,error:n,data:o,isFetching:u}=ot(r),[h,c]=b.exports.useState(!0),x=()=>c(!0),i=()=>c(!1),{mutate:S}=Vt(),g=L=>{L.preventDefault(),S({recordID:r})};return e(oe,{open:h,onClose:x,style:{backgroundColor:"rgb(50,53,101)"},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:l||u?e(p,{sx:{style:Ee,display:"flex",justifyContent:"center",mt:40},children:e(_,{color:"secondary"})}):t?e(Container,{sx:{display:"flex",justifyContent:"center"},children:s(a,{style:{color:"white"},children:["Error: ",n.message]})}):o?s(p,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"record-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"record-delete-error-message"})}),e(w,{id:"record-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Deleted Successfully!"})})]}),s(p,{sx:Ee,children:[s(a,{id:"modal-modal-title",variant:"h6",color:"error",children:[e("strong",{style:{color:"blue"},children:o.date})," (",o.start,"-",o.end,")"]}),e(a,{id:"modal-modal-description",sx:{mt:2},color:"error",children:"Are you sure you want this record deleted?"}),s(y,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"error",onClick:g,children:["Yes",e(se,{fontSize:"small",sx:{ml:1}})]}),e(m,{to:"/record",children:s(y,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"primary",onClick:i,children:["No",e(z,{fontSize:"small",sx:{ml:"10px"}})]})})]})]}):null})},Zt=async()=>(await((t=1100)=>new Promise(n=>setTimeout(n,t)))(),await fetch("http://localhost:3333/api/loggings",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(t=>{switch(t.status){case 200:return t.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 404:throw new Error("404 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(t=>{if(t)return t}).catch(t=>{document.getElementById("ip-add-error").style.display="flex",document.getElementById("ip-add-error-message").innerHTML=t,console.log(t)})),Gt=()=>Y("log-all",Zt,{refetchOnWindowFocus:!1}),Qt=async r=>{await((t=2200)=>new Promise(n=>setTimeout(n,t)))(),await fetch("http://localhost:3333/api/blockip",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(t=>{switch(t.status){case 200:return t.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(t=>{if(t)return document.getElementById("ip-add-success").style.display="flex",t}).catch(t=>{document.getElementById("ip-add-error").style.display="flex",document.getElementById("ip-add-error-message").innerHTML=t,console.log(t)})},Jt=()=>{const r=H();return M("blockip-add",Qt,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("blockip-all")}})},Kt=()=>{const r=W();let l,t;const{isLoading:n,isError:o,error:u,data:h,isFetching:c}=Gt(),{register:x,handleSubmit:i,formState:{errors:S}}=F(),{mutate:g}=Jt();return h&&(document.getElementById("ip-add-error")&&(document.getElementById("ip-add-error").style.display="none"),l=h.reduce((d,B)=>(d.some(D=>D.ip===B.ip)||d.push(B),d),[]),t=h.reduce((d,B)=>(d.some(D=>D.action===B.action&&D.ip===B.ip)||d.push(B),d),[])),s(P,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"ip-add-error",severity:"error",style:{display:"none"},children:e("strong",{id:"ip-add-error-message"})}),e(w,{id:"ip-add-success",severity:"success",style:{display:"none"},children:e("strong",{children:"IP Blocked Successfully!"})})]}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"System Logs"})}),s("form",{onSubmit:i(d=>{document.getElementById("ip-add-success").style.display="none",document.getElementById("ip-add-error").style.display="none",g(d)}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 10px",borderRadius:"10px"},children:[e(C,f({id:"ip",sx:{m:"10px"},variant:"outlined",name:"ip",label:"IPv4 Address",InputLabelProps:{className:r.input},InputProps:{className:r.input}},x("ip",{required:!0,pattern:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i}))),S.ip&&e("span",{style:v,children:"! Invalid Format Try 0.0.0.0 - 255.255.255.255 ..."}),e(p,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(y,{variant:"contained",color:"warning",type:"submit",sx:{width:"50%"},style:{textTransform:"none"},children:"Block"})})]}),s(p,{sx:{display:"flex",justifyContent:"space-around",mt:"10px",mx:"10px"},children:[e(m,{style:{width:"100%"},to:"/blockip/delete",children:e(y,{sx:{width:"100%"},variant:"contained",color:"info",type:"submit",style:{textTransform:"none"},children:"Unblock"})}),e(m,{style:{width:"100%"},to:"/log/delete",children:e(y,{variant:"contained",color:"error",type:"submit",sx:{width:"100%"},style:{textTransform:"none"},children:"Clear Logs"})})]}),e(p,{sx:{m:"10px"},style:{maxHeight:450,overflow:"auto"},children:n||c?e(A,{sx:{display:"flex",justifyContent:"center",mt:1},children:e(p,{children:e(_,{color:"secondary"})})}):o?e(A,{sx:{display:"flex",justifyContent:"center"},children:e(p,{children:s(a,{style:{color:"rgb(0,0,0)"},children:["Error: ",u.message]})})}):h||l?l.map(d=>s(V,{children:[e(q,{expandIcon:e(Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:s(a,{variant:"subtitle2",color:"primary",children:["IP Address: ",e("strong",{style:{color:"rgb(0,0,0)"},children:d.ip})]})}),t.map(B=>{if(d.ip===B.ip)return s(V,{children:[e(q,{expandIcon:e(Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:s(a,{variant:"caption",color:"secondary",children:["Method Performed: ",e("strong",{style:{color:"rgb(0,0,0)"},children:B.action})]})}),h.map(D=>{if(B.ip===D.ip&&B.action===D.action)return e(V,{children:s(le,{sx:{my:1,py:1},children:[e(a,{variant:"subtitle2",children:e("em",{style:{color:"rgb(50, 53, 101)"},children:new Date(D.timestamp).toUTCString()})}),s(a,{variant:"subtitle2",color:"primary",children:["Username:"," ",e("strong",{style:{color:"#d32f2f"},children:D.username})]})]})},D.loggingID)})]},B.loggingID)})]},d.loggingID)):null}),e(m,{to:"/settings",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},Xt=async()=>{await((l=2200)=>new Promise(t=>setTimeout(t,l)))(),await fetch("http://localhost:3333/api/loggings",{method:"DELETE",credentials:"include"}).then(l=>{switch(l.status){case 200:document.getElementById("log-clear-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(l=>{document.getElementById("log-clear-error").style.display="flex",document.getElementById("log-clear-error-message").innerHTML=l,console.log(l)})},er=()=>{const r=X();return M(Xt,{refetchOnWindowFocus:!1,onSuccess:()=>{setTimeout(()=>r("/log/all"),2500)}})},tr={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},rr=()=>{const[r,l]=b.exports.useState(!0),t=()=>l(!0),n=()=>l(!1),{mutate:o}=er();return e(oe,{open:r,onClose:t,style:{backgroundColor:"rgb(50,53,101)"},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:s(p,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"log-clear-error",severity:"error",style:{display:"none"},children:e("strong",{id:"log-clear-error-message"})}),e(w,{id:"log-clear-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Deleted Successfully!"})})]}),s(p,{sx:tr,children:[s(a,{id:"modal-modal-title",variant:"h6",color:"error",children:["Clear ",e("strong",{style:{color:"blue"},children:"ALL"})," Logs"]}),e(a,{id:"modal-modal-description",sx:{mt:2},color:"error",children:"Are you sure you want to do this?"}),s(y,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"error",onClick:h=>{h.preventDefault(),o(h)},children:["Yes",e(se,{fontSize:"small",sx:{ml:1}})]}),e(m,{to:"/log/all",children:s(y,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"primary",onClick:n,children:["No",e(z,{fontSize:"small",sx:{ml:"10px"}})]})})]})]})})},sr=async()=>(await((t=1100)=>new Promise(n=>setTimeout(n,t)))(),await fetch("http://localhost:3333/api/blockips",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(t=>{switch(t.status){case 200:return t.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 404:throw new Error("404 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(t=>{if(t)return t}).catch(t=>{document.getElementById("ip-delete-error").style.display="flex",document.getElementById("ip-delete-error-message").innerHTML=t,console.log(t)})),nr=()=>Y("blockip-all",sr,{refetchOnWindowFocus:!1}),lr=async r=>{await((n=2200)=>new Promise(o=>setTimeout(o,n)))();const t=r;await fetch("http://localhost:3333/api/blockip",{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(n=>{switch(n.status){case 200:document.getElementById("ip-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(n=>{document.getElementById("ip-delete-error").style.display="flex",document.getElementById("ip-delete-error-message").innerHTML=n,console.log(n)})},or=()=>{const r=H(),l=X();return M(lr,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("blockip-all"),setTimeout(()=>l("/log/all"),2500)}})},ar=()=>{const r=W(),[l,t]=b.exports.useState(""),{data:n}=nr();b.exports.useEffect(()=>{n&&(document.getElementById("ip-delete-error").style.display="none")},[n]);const{register:o,handleSubmit:u,formState:{errors:h}}=F(),{mutate:c}=or();return s(P,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"ip-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"ip-delete-error-message"})}),e(w,{id:"ip-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"IP Unblocked Successfully!"})})]}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Unblock IP Address"})}),s("form",{onSubmit:u(i=>{document.getElementById("ip-delete-success").style.display="none",document.getElementById("ip-delete-error").style.display="none",c(i)}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 10px",borderRadius:"10px"},children:[s(Ae,{fullWidth:!0,children:[e(Le,{id:"ip-address-select-label",children:"IP Address"}),e(De,I(f({labelId:"ip-address-select-label",id:"ip",name:"ip",value:l,label:"IP Address",inputProps:{className:r.input}},o("ip")),{onChange:i=>t(i.target.value),children:n?n.map(i=>e(U,{value:i.ip,children:i.ip},i.ip)):null}))]}),h.ip&&e("span",{style:v,children:"! Please pick one ..."}),e(p,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(y,{variant:"contained",color:"success",type:"submit",sx:{width:"50%"},style:{textTransform:"none"},children:"Unblock"})})]}),e(m,{to:"/log/all",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},ir=async()=>(await((t=1100)=>new Promise(n=>setTimeout(n,t)))(),await fetch("http://localhost:3333/api/whitelists",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(t=>{switch(t.status){case 200:return t.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 404:throw new Error("404 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(t=>{if(t)return t}).catch(t=>{document.getElementById("whitelist-all-error").style.display="flex",document.getElementById("whitelist-all-error-message").innerHTML=t,console.log(t)})),je=()=>Y("whitelist-all",ir,{refetchOnWindowFocus:!1}),dr=async r=>{await((t=2200)=>new Promise(n=>setTimeout(n,t)))(),await fetch("http://localhost:3333/api/whitelist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(t=>{switch(t.status){case 200:return t.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(t=>{if(t)return document.getElementById("whitelist-add-success").style.display="flex",t}).catch(t=>{document.getElementById("whitelist-add-error").style.display="flex",document.getElementById("whitelist-add-error-message").innerHTML=t,console.log(t)})},cr=()=>{const r=H();return M("whitelist-add",dr,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("whitelist-all")}})},ur=()=>{const r=W(),{isLoading:l,isError:t,error:n,data:o,isFetching:u}=je();b.exports.useEffect(()=>{o&&document.getElementById("whitelist-all-error")&&(document.getElementById("whitelist-all-error").style.display="none")},[o]);const{register:h,handleSubmit:c,formState:{errors:x}}=F(),{mutate:i}=cr();return s(P,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"whitelist-add-error",severity:"error",style:{display:"none"},children:e("strong",{id:"whitelist-add-error-message"})}),e(w,{id:"whitelist-all-error",severity:"error",style:{display:"none"},children:e("strong",{id:"whitelist-all-error-message"})}),e(w,{id:"whitelist-add-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Whitelisted Successfully!"})})]}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"White List"})}),s("form",{onSubmit:c(g=>{document.getElementById("whitelist-add-success").style.display="none",document.getElementById("whitelist-add-error").style.display="none",i(g)}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 10px",borderRadius:"10px"},children:[e(C,f({id:"ip",sx:{m:"10px"},variant:"outlined",name:"ip",label:"IPv4 Address",InputLabelProps:{className:r.input},InputProps:{className:r.input}},h("ip",{required:!0,pattern:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i}))),x.ip&&e("span",{style:v,children:"! Invalid Format Try 0.0.0.0 - 255.255.255.255 ..."}),e(p,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(y,{variant:"contained",color:"info",type:"submit",sx:{width:"50%"},style:{textTransform:"none"},children:"Confirm"})})]}),e(p,{sx:{display:"flex",justifyContent:"center",mt:"10px",mx:"10px"},children:e(m,{style:{width:"50%"},to:"/whitelist/delete",children:e(y,{sx:{width:"100%"},variant:"contained",color:"error",type:"submit",style:{textTransform:"none"},children:"Remove"})})}),e(a,{color:"primary",sx:{m:"10px"},variant:"subtitle1",children:e("strong",{children:"IPv4 Addresses"})}),e(p,{sx:{display:"flex",flexWrap:"wrap",m:"10px"},style:{maxHeight:450,overflow:"auto"},children:e(Ce,{component:Ie,style:{maxHeight:373,overflow:"auto"},children:s(Pe,{"aria-label":"simple table",children:[e(Be,{children:e(R,{children:e(k,{style:{color:"rgb(0,0,0)"},children:e("strong",{children:"Clients"})})})}),e(Te,{children:l||u?e(R,{sx:{display:"flex",justifyContent:"center"},children:e(k,{children:e(_,{color:"secondary"})})}):t?e(R,{sx:{display:"flex",justifyContent:"center"},children:e(k,{children:s(a,{style:{color:"rgb(0,0,0)"},children:["Error ",n.message]})})}):o?o.map(g=>s(R,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e(k,{component:"th",scope:"row",sx:{my:0,py:0,px:"5px",textAlign:"center"},children:e(a,{sx:{m:"10px"},variant:"caption",children:e("strong",{children:g.ip})},g.ip)}),e(k,{component:"th",scope:"row",sx:{display:"flex",justifyContent:"flex-end",pr:"5px",my:0,py:0},children:e(m,{to:`/whitelist/edit/${g.whitelistID}`,children:e(y,{size:"small",variant:"contained",color:"warning",style:{textTransform:"none"},children:"Edit"})})})]},g.whitelistID)):null})]})})}),e(m,{to:"/settings",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},hr=async r=>{await((n=2200)=>new Promise(o=>setTimeout(o,n)))();const t=r;await fetch("http://localhost:3333/api/whitelist",{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(n=>{switch(n.status){case 200:document.getElementById("whitelist-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(n=>{document.getElementById("whitelist-delete-error").style.display="flex",document.getElementById("whitelist-delete-error-message").innerHTML=n,console.log(n)})},pr=()=>{const r=H(),l=X();return M(hr,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("whitelist-all"),setTimeout(()=>l("/whitelist/all"),2500)}})},mr=()=>{const r=W(),[l,t]=b.exports.useState(""),{data:n}=je();b.exports.useEffect(()=>{n&&(document.getElementById("whitelist-delete-error").style.display="none",console.log(n))},[n]);const{register:o,handleSubmit:u,formState:{errors:h}}=F(),{mutate:c}=pr();return s(P,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"whitelist-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"whitelist-delete-error-message"})}),e(w,{id:"whitelist-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"White List Removed Successfully!"})})]}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Remove White List"})}),s("form",{onSubmit:u(i=>{document.getElementById("whitelist-delete-success").style.display="none",document.getElementById("whitelist-delete-error").style.display="none",c(i)}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 10px",borderRadius:"10px"},children:[s(Ae,{fullWidth:!0,children:[e(Le,{id:"ip-address-select-label",children:"IP Address"}),e(De,I(f({labelId:"ip-address-select-label",id:"ip",name:"ip",value:l,label:"IP Address",inputProps:{className:r.input}},o("ip")),{onChange:i=>t(i.target.value),children:n?n.map(i=>e(U,{value:i.ip,children:i.ip},i.ip)):null}))]}),h.ip&&e("span",{style:v,children:"! Please pick one ..."}),e(p,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(y,{variant:"contained",color:"error",type:"submit",sx:{width:"50%"},style:{textTransform:"none"},children:"Remove"})})]}),e(m,{to:"/whitelist/all",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},yr=()=>s(P,{children:[e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Help Tutorial,"})}),e(a,{sx:{m:"10px"},variant:"h6",children:e("strong",{children:"Navigating the Application"})}),e(A,{children:e("img",{sx:{display:"flex",justifyContent:"center"},style:{width:"100%"},src:"../assets/img/admin-nav.webp",alt:"admin-nav",height:"auto",width:"auto"})}),e(a,{sx:{my:"10px",mx:"30px",pb:"10px"},variant:"subtitle2",children:"Clicking onto the hamburger menu on the top-right corner allows access to other features of the application including Records and Settings."}),e(a,{sx:{m:"10px"},variant:"h6",children:e("strong",{children:"Admin Settings"})}),e(A,{children:e("img",{sx:{display:"flex",justifyContent:"center"},style:{width:"100%"},src:"../assets/img/admin-settings.webp",alt:"admin-settings",height:"auto",width:"auto"})}),e(a,{sx:{my:"10px",mx:"30px",pb:"10px"},variant:"subtitle2",children:"Navigating to the Settings page allows access to User Account Management and Display Mode."}),e(A,{children:e("img",{sx:{display:"flex",justifyContent:"center"},style:{width:"100%"},src:"../assets/img/admin-user-account-all.webp",alt:"admin-user-account-all",height:"auto",width:"auto"})}),e(a,{sx:{my:"10px",mx:"30px",pb:"10px"},variant:"subtitle2",children:"Admin is allowed access to every individual user account on the system and may view, edit and delete them."}),e(A,{children:e("img",{sx:{display:"flex",justifyContent:"center"},style:{width:"100%"},src:"../assets/img/admin-user-account-single.webp",alt:"admin-user-account-single",height:"auto",width:"auto"})}),e(a,{sx:{m:"10px"},variant:"h6",children:e("strong",{children:"Admin Records"})}),e(A,{children:e("img",{sx:{display:"flex",justifyContent:"center"},style:{width:"100%"},src:"../assets/img/admin-record-all.webp",alt:"admin-record-all",height:"auto",width:"auto"})}),e(a,{sx:{my:"10px",mx:"30px",pb:"10px"},variant:"subtitle2",children:"Admin may view, edit and delete ALL Client User Records in the system."}),e(m,{to:"/",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]}),xr=async({queryKey:r})=>{await((n=2200)=>new Promise(o=>setTimeout(o,n)))();const t=r[1];if(t)return await fetch(`http://localhost:3333/api/whitelist/${t}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(o=>{switch(o.status){case 200:return o.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 404:throw new Error("404 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(o=>{if(o)return o}).catch(o=>{document.getElementById("whitelist-edit-error")?(document.getElementById("whitelist-edit-error").style.display="flex",document.getElementById("whitelist-edit-error-message").innerHTML=o):document.getElementById("whitelist-single-error")&&(document.getElementById("whitelist-single-error").style.display="flex",document.getElementById("whitelist-single-error-message").innerHTML=o),console.log(o)})},gr=r=>Y(["whitelist-single",r],xr,{refetchOnWindowFocus:!1}),fr=async r=>{await((o=3300)=>new Promise(u=>setTimeout(u,o)))();const t=r.userID;return await fetch(`http://localhost:3333/api/whitelist/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(o=>{switch(o.status){case 200:return o.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 404:throw new Error("404 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(o=>{if(o)return document.getElementById("whitelist-edit-success").style.display="flex",o}).catch(o=>{document.getElementById("whitelist-edit-error").style.display="flex",document.getElementById("whitelist-edit-error-message").innerHTML=o,console.log(o)})},wr=()=>{const r=H();return M(fr,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("whitelist-all")}})},br=()=>{const r=W(),{id:l}=K(),{isLoading:t,isError:n,error:o,data:u,isFetching:h}=gr(l);b.exports.useEffect(()=>{document.getElementById("whitelist-edit-error").style.display="none"},[u]);const{register:c,handleSubmit:x,formState:{errors:i}}=F(),{mutate:S}=wr();return s(P,{children:[s(N,{sx:{width:"100%"},children:[e(w,{id:"whitelist-edit-error",severity:"error",style:{display:"none"},children:e("strong",{id:"whitelist-edit-error-message"})}),e(w,{id:"whitelist-edit-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Edit Successfully!"})})]}),e(a,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Edit IP Address"})}),t||h?e(p,{sx:{display:"flex",justifyContent:"center",m:2},children:e(_,{color:"secondary"})}):n?e(A,{sx:{display:"flex",justifyContent:"center"},children:s(a,{style:{color:"white"},children:["Error: ",o.message]})}):u?e(P,{children:s("form",{onSubmit:x(L=>{document.getElementById("whitelist-edit-success").style.display="none",document.getElementById("whitelist-edit-error").style.display="none",L.whitelistID=l,S(L)}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 30px",borderRadius:"10px"},children:[e(C,f({id:"ip",color:"primary",sx:{m:"10px"},ref:c,variant:"outlined",name:"ip",defaultValue:u.ip,label:"IP Address",InputLabelProps:{className:r.input},InputProps:{className:r.input}},c("ip",{required:!0,pattern:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i}))),i.ip&&e("span",{style:v,children:"! Invalid Format Try 0.0.0.0 - 255.255.255.255 ..."}),e(p,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(y,{variant:"contained",color:"success",type:"submit",sx:{width:"50%"},style:{textTransform:"none"},children:"Confirm"})})]})}):null,e(m,{to:"/whitelist/all",children:s(y,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(z,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},vr=()=>e(P,{children:s(Fe,{children:[e(E,{path:"display",element:e(at,{})}),e(E,{path:"tutorial",element:e(yr,{})}),e(E,{path:"record",element:e(Ft,{})}),e(E,{path:"record/delete/:id",element:e(Yt,{})}),e(E,{path:"record/update/:id",element:e(it,{})}),e(E,{path:"blockip/delete",element:e(ar,{})}),e(E,{path:"log/delete",element:e(rr,{})}),e(E,{path:"log/all",element:e(Kt,{})}),e(E,{path:"whitelist/delete",element:e(mr,{})}),e(E,{path:"whitelist/edit/:id",element:e(br,{})}),e(E,{path:"whitelist/all",element:e(ur,{})}),e(E,{path:"user/delete/:id",element:e(Ht,{})}),e(E,{path:"user/edit/:id",element:e(kt,{})}),e(E,{path:"user/add",element:e(zt,{})}),e(E,{path:"user/single/:id",element:e(St,{})}),e(E,{path:"user/all",element:e(vt,{})}),e(E,{path:"settings",element:e(ft,{})}),e(E,{path:"home",element:e(ve,{})}),e(E,{path:"/",element:e(ve,{})})]})}),Sr=()=>s("footer",{className:"footer-basic",children:[s(p,{className:"social",style:{padding:"10px 35px"},children:[e("a",{href:"https://m.instagram.com/",children:e($,{"aria-label":"instagram",children:e(qe,{fontSize:"medium",style:{color:"rgb(255,255,2555)"}})})}),e("a",{href:"https://m.youtube.com/",children:e($,{"aria-label":"instagram",children:e(Ve,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})}),e("a",{href:"https://m.twitter.com/",children:e($,{"aria-label":"instagram",children:e(Ye,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})}),e("a",{href:"https://m.facebook.com/",children:e($,{"aria-label":"instagram",children:e(Ze,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})})]}),s(p,{id:"internal-links",children:[e(m,{to:"/",children:"Home"}),e(m,{to:"/record",children:"Record"})]}),e(a,{className:"copyright",variant:"caption",display:"block",align:"center",children:"AmourAila \xA9 2022"})]}),Er=[{id:1,title:"Home",href:"home"},{id:2,title:"Record",href:"record"},{id:3,title:"Settings",href:"settings"}],Ar=()=>{const[r,l]=be.useState(null);be.useState(!0);const t=u=>{l(u.currentTarget)},n=()=>{l(null)},o=async()=>{await((h=1001)=>new Promise(c=>setTimeout(c,h)))(),await fetch("http://localhost:3333/api/user/logout",{method:"POST",credentials:"include"}).then(h=>{h.status===200?(console.log("Logged out successfully!"),window.location.href="http://localhost:3000/"):console.log("Error Logging out!")}).catch(h=>console.log(h))};return s(P,{children:[e(Ge,{position:"static",children:e(A,{maxWidth:"xl",children:s(Qe,{disableGutters:!0,children:[e(p,{sx:{display:"flex"},children:e(m,{to:"/",children:e($,{size:"large","aria-label":"logo",color:"inherit",children:e("img",{src:"/assets/img/Logo.webp",alt:"Logo",height:"50",width:"50"})})})}),e(a,{variant:"h6",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"AmourAila"}),e(a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"AmourAila"}),s(p,{sx:{flexGrow:0},children:[e(Je,{title:"Open menu",children:e($,{size:"large","aria-label":"current menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:t,color:"inherit",children:e(Ke,{})})}),s(Xe,{sx:{mt:"45px",width:"100%"},id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(r),onClose:n,style:{position:"absolute"},children:[Er.map(u=>e(m,{to:u.href,style:{margin:0},children:e(U,{onClick:n,style:{width:"1000px"},children:e(a,{sx:{ml:"5px"},align:"center",color:"primary",children:u.title})})},u.id)),e(p,{sx:{display:"flex",justifyContent:"center",mr:"10px"},children:e(m,{to:"",onClick:n,children:s(y,{variant:"contained",color:"warning",onClick:o,style:{textTransform:"none"},children:[e(dt,{sx:{mr:"5px"}}),"Sign out"]})})})]})]})]})})}),e(vr,{}),e(Sr,{})]})};export{Ar as default};
