var Pe=Object.defineProperty,Ce=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var de=(r,a,s)=>a in r?Pe(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,p=(r,a)=>{for(var s in a||(a={}))Ne.call(a,s)&&de(r,s,a[s]);if(ie)for(var s of ie(a))Ae.call(a,s)&&de(r,s,a[s]);return r},b=(r,a)=>Ce(r,Ee(a));import{j as t,F as N,a as e,T as l,C as $,L as h,l as H,u as xe,m as v,B as y,x as De,P as ze,y as Le,z as $e,D as _,E as T,G as Be,H as B,J as U,K as Te,N as Oe,O as Z,S as W,U as G,V as J,W as fe,r as D,X as M,Y as L,Z as S,$ as C,I as E,a0 as we,a1 as ge,a2 as V,a3 as k,a4 as ce,a5 as F,R as _e,b as P,d as ke,c as je,e as Re,f as Ue,g as ue,A as Me,h as qe,i as Ve,k as Fe,M as Ye}from"./vendor.3d87cbec.js";import{n as He,d as Ze,a as We,b as me,c as Ge,u as Q,e as O,f as j,g as R,h as Je,i as Y,j as Qe,R as Ke,D as Xe,k as er}from"./record.update.5d49f107.js";import{u as be,a as ve,e as g,d as Se}from"./guest.login.88d56f5f.js";const pe=()=>(localStorage.getItem("colour")=="rgb(0,0,0)"?He():Ze(),t(N,{children:[e(l,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Welcome Aila,"})}),e(l,{sx:{my:"10px",mx:"30px",pb:"10px"},variant:"subtitle1",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})),rr=()=>t(N,{children:[e(l,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Settings"})}),t($,{sx:{my:"50px"},children:[e(h,{to:"/user/all",style:{margin:0},children:t(H,{children:[e(We,{color:"primary"}),e(l,{sx:{ml:"20px"},aligh:"center",color:"primary",children:"Account Management"}),e(me,{fontSize:"small",color:"primary",style:{position:"absolute",right:"10px"}})]})}),e(h,{to:"/display",style:{margin:0},children:t(H,{children:[e(Ge,{color:"primary"}),e(l,{sx:{ml:"20px"},aligh:"center",color:"primary",children:"Display Mode"}),e(me,{fontSize:"small",color:"primary",style:{position:"absolute",right:"10px"}})]})})]})]}),tr=async()=>(await((s=1100)=>new Promise(n=>setTimeout(n,s)))(),await fetch("https://user.technolashes.com/api/users",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(s=>{switch(s.status){case 200:return s.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(s=>{if(s)return s}).catch(s=>console.log(s))),sr=()=>xe("user-all",tr,{refetchOnWindowFocus:!1}),nr=()=>{const{isLoading:r,isError:a,error:s,data:n,isFetching:o}=sr();return t(N,{children:[e(l,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Account Management"})}),e($,{sx:{display:"flex",justifyContent:"center"},children:e(h,{to:"/user/add",children:e(v,{variant:"contained",color:"success",children:"Create New User"})})}),e(y,{sx:{m:"10px"},children:e(De,{component:ze,style:{maxHeight:373,overflow:"auto"},children:t(Le,{"aria-label":"simple table",children:[e($e,{children:e(_,{children:e(T,{style:{color:"rgb(0,0,0)"},children:e("strong",{children:"Clients"})})})}),e(Be,{children:r||o?e(_,{sx:{display:"flex",justifyContent:"center"},children:e(T,{children:e(B,{color:"secondary"})})}):a?e(_,{sx:{display:"flex",justifyContent:"center"},children:e(T,{children:t(l,{style:{color:"rgb(0,0,0)"},children:["Error ",s.message]})})}):n?n.map(d=>t(_,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e(T,{component:"th",scope:"row",sx:{my:0,py:0,px:"5px",textAlign:"center"},children:t(h,{to:`/user/single/${d.userID}`,style:{color:"rgb(0,0,0)"},children:[d.firstName," ",d.lastName]})}),t(T,{component:"th",scope:"row",sx:{display:"flex",justifyContent:"flex-end",pr:"5px",my:0,py:0},children:[e(h,{to:`/user/edit/${d.userID}`,children:e(v,{size:"small",variant:"contained",color:"warning",style:{textTransform:"none"},children:"Edit"})}),e(h,{style:{marginLeft:"3px",marginRight:"0",float:"right"},to:`/user/delete/${d.userID}`,children:e(v,{size:"small",variant:"contained",color:"error",style:{textTransform:"none"},children:"Delete"})})]})]},d.userID)):null})]})})})]})},ar=()=>{const{id:r}=U(),{isLoading:a,isError:s,error:n,data:o,isFetching:d}=Q(r);return t(N,{children:[e(l,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Client"})}),a||d?e(y,{sx:{display:"flex",justifyContent:"center",m:2},children:e(B,{color:"secondary"})}):s?e($,{sx:{display:"flex",justifyContent:"center"},children:t(l,{style:{color:"white"},children:["Error: ",n.message]})}):o?t(Te,{sx:{m:"10px"},children:[t(Oe,{children:[t(l,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:["UserID: ",o.userID]}),t(l,{variant:"h5",component:"div",children:[o.firstName," ",o.lastName]}),e(l,{variant:"body2",color:"primary",children:new Date(o.dateOfBirth).toLocaleDateString()}),t(l,{variant:"body2",color:"secondary",children:["Username: ",o.username]}),t(l,{variant:"body2",color:"secondary",children:["Email: ",o.email]})]}),e(h,{to:"/user/all",children:t(v,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(O,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]},o.userID):null]})};var K={},or=W.exports;Object.defineProperty(K,"__esModule",{value:!0});var X=K.default=void 0,lr=or(Z),ir=G,dr=(0,lr.default)((0,ir.jsx)("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm6 3h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v9c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-9c0-1.66-1.34-3-3-3zm1 11H5v-3c.9-.01 1.76-.37 2.4-1.01l1.09-1.07 1.07 1.07c1.31 1.31 3.59 1.3 4.89 0l1.08-1.07 1.07 1.07c.64.64 1.5 1 2.4 1.01v3zm0-4.5c-.51-.01-.99-.2-1.35-.57l-2.13-2.13-2.14 2.13c-.74.74-2.03.74-2.77 0L8.48 12.8l-2.14 2.13c-.35.36-.83.56-1.34.57V12c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v3.5z"}),"CakeOutlined");X=K.default=dr;var ee={},cr=W.exports;Object.defineProperty(ee,"__esModule",{value:!0});var re=ee.default=void 0,ur=cr(Z),mr=G,pr=(0,ur.default)((0,mr.jsx)("path",{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}),"EmailOutlined");re=ee.default=pr;const hr=async r=>{await((s=2200)=>new Promise(n=>setTimeout(n,s)))(),await fetch("https://user.technolashes.com/api/user",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(s=>{switch(s.status){case 200:return s.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(s=>{if(s)return document.getElementById("user-add-success").style.display="flex",s}).catch(s=>{document.getElementById("user-add-error").style.display="flex",document.getElementById("user-add-error-message").innerHTML=s,console.log(s)})},yr=()=>{const r=fe();return J("user-add",hr,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("user-all")}})},xr=()=>{const r=be(),[a,s]=D.exports.useState({showPassword:!1}),[n,o]=D.exports.useState({showPassword:!1}),[d,x]=D.exports.useState("CLIENT"),{register:i,handleSubmit:u,watch:c,formState:{errors:I}}=ve(),f=w=>{w=="password"?(s(b(p({},a),{showPassword:!a.showPassword})),a.showPassword?document.getElementById("password").setAttribute("type","text"):document.getElementById("password").setAttribute("type","password")):w=="confirmPassword"&&(o(b(p({},n),{showPassword:!n.showPassword})),n.showPassword?document.getElementById("confirmPassword").setAttribute("type","text"):document.getElementById("confirmPassword").setAttribute("type","password"))},z=c(["password","confirmPassword"]),m=z[0]==z[1],{mutate:q}=yr();return t(N,{children:[t(M,{sx:{width:"100%"},children:[e(L,{id:"user-add-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-add-error-message"})}),e(L,{id:"user-add-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Account Created Successfully!"})})]}),e(l,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Create Account"})}),t("form",{onSubmit:u(w=>{document.getElementById("user-add-success").style.display="none",document.getElementById("user-add-error").style.display="none",m&&(w.roles=d,delete w.confirmPassword,q(w))}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 30px",borderRadius:"10px"},children:[e(S,p({id:"firstName",sx:{m:"10px"},variant:"outlined",name:"firstName",label:"First Name",InputLabelProps:{className:r.input},InputProps:{className:r.input}},i("firstName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),I.firstName&&e("span",{style:g,children:"! Invalid first name ..."}),e(S,p({id:"lastName",sx:{m:"10px"},variant:"outlined",name:"lastName",label:"Last Name",InputLabelProps:{className:r.input},InputProps:{className:r.input}},i("lastName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),I.lastName&&e("span",{style:g,children:"! Invalid last name ..."}),e(S,b(p({id:"dateOfBirth",sx:{m:"10px"},variant:"outlined",name:"dateOfBirth",label:"Date of Birth",InputLabelProps:{className:r.input}},i("dateOfBirth",{required:!0,pattern:/^[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/i})),{InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(X,{sx:{color:"rgb(255,255,255)"}})})}})),I.dateOfBirth&&e("span",{style:g,children:"! Invalid date of birth 'YYYY-MM-dd' ..."}),e(S,b(p({id:"email",sx:{m:"10px"},variant:"outlined",name:"email",label:"Email"},i("email",{required:!0,maxLength:200,pattern:/[a-zA-z0-9_.+-]+@[a-zA-z0-9-]+\.[a-zA-Z0-9-.]+/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(re,{sx:{color:"rgb(255,255,255)"}})})}})),I.email&&e("span",{style:g,children:"! Invalid email ..."}),e(S,b(p({id:"username",sx:{m:"10px"},variant:"outlined",name:"username",label:"Username"},i("username",{required:!0,pattern:/^[a-zA-Z0-9]{3,255}$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(Se,{sx:{color:"rgb(255,255,255)"}})})}})),I.username&&e("span",{style:g,children:"! Invalid username ..."}),e(S,b(p({id:"password",type:"text",sx:{m:"10px"},variant:"outlined",name:"password",label:"Password"},i("password",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(E,{"aria-label":"toggle password visibility",onClick:w=>f("password"),edge:"end",children:a.showPassword?e(j,{sx:{color:"rgb(255,255,255)"}}):e(R,{sx:{color:"rgb(255,255,255)"}})})})}})),I.password&&e("span",{style:g,children:"! Invalid password ..."}),e(S,b(p({id:"confirmPassword",type:"text",sx:{m:"10px"},variant:"outlined",name:"confirmPassword",label:"Confirm Password"},i("confirmPassword",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(E,{"aria-label":"toggle password visibility",onClick:w=>f("confirmPassword"),edge:"end",children:n.showPassword?e(j,{sx:{color:"rgb(255,255,255)"}}):e(R,{sx:{color:"rgb(255,255,255)"}})})})}})),I.confirmPassword&&e("span",{style:g,children:"! Invalid confirmation password ..."}),m?"":e("span",{style:g,children:"! Please make sure passwords match ..."}),e(y,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(v,{type:"submit",variant:"contained",color:"success",sx:{width:"50%"},style:{textTransform:"none"},children:"Create"})})]}),e(h,{to:"/user/all",children:t(v,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(O,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})},fr=()=>{const r=be(),{id:a}=U(),[s,n]=D.exports.useState(""),[o,d]=D.exports.useState({showPassword:!0}),[x,i]=D.exports.useState({showPassword:!0}),{isLoading:u,isError:c,error:I,data:f,isFetching:z}=Q(a);D.exports.useEffect(()=>{f&&n(f.roles)},[f]);const{register:m,handleSubmit:q,watch:ne,formState:{errors:w}}=ve(),ae=A=>{A=="password"?(d(b(p({},o),{showPassword:!o.showPassword})),o.showPassword?document.getElementById("password").setAttribute("type","text"):document.getElementById("password").setAttribute("type","password")):A=="confirmPassword"&&(i(b(p({},x),{showPassword:!x.showPassword})),x.showPassword?document.getElementById("confirmPassword").setAttribute("type","text"):document.getElementById("confirmPassword").setAttribute("type","password"))},oe=ne(["password","confirmPassword"]),le=oe[0]==oe[1],{mutate:Ie}=Je();return t(N,{children:[t(M,{sx:{width:"100%"},children:[e(L,{id:"user-edit-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-edit-error-message"})}),e(L,{id:"user-edit-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Update Successfully!"})})]}),e(l,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"Edit User"})}),u||z?e(y,{sx:{display:"flex",justifyContent:"center",m:2},children:e(B,{color:"secondary"})}):c?e($,{sx:{display:"flex",justifyContent:"center"},children:t(l,{style:{color:"white"},children:["Error: ",I.message]})}):f?e(N,{children:t("form",{onSubmit:q(A=>{document.getElementById("user-edit-success").style.display="none",document.getElementById("user-edit-error").style.display="none",le&&(A.userID=a,A.roles=s,delete A.confirmPassword,Ie(A))}),style:{display:"flex",flexDirection:"column",backgroundColor:"rgb(50,53,101)",padding:"20px 10px",margin:"10px 30px",borderRadius:"10px"},children:[e(S,p({id:"firstName",color:"primary",sx:{m:"10px"},ref:m,variant:"outlined",name:"firstName",defaultValue:f.firstName,label:"First Name",InputLabelProps:{className:r.input},InputProps:{className:r.input}},m("firstName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),w.firstName&&e("span",{style:g,children:"! Invalid first name ..."}),e(S,p({id:"lastName",color:"primary",sx:{m:"10px"},ref:m,variant:"outlined",name:"lastName",defaultValue:f.lastName,label:"Last Name",InputLabelProps:{className:r.input},InputProps:{className:r.input}},m("lastName",{required:!0,pattern:/^[a-zA-Z ,.'-]{3,200}$/i}))),w.lastName&&e("span",{style:g,children:"! Invalid last name ..."}),e(S,b(p({id:"dateOfBirth",color:"primary",sx:{m:"10px"},ref:m,variant:"outlined",name:"dateOfBirth",defaultValue:f.dateOfBirth.substring(0,10),label:"Date Of Birth"},m("dateOfBirth",{required:!0,pattern:/^[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(X,{sx:{color:"rgb(255,255,255)"}})})}})),w.dateOfBirth&&e("span",{style:g,children:"! Invalid date of birth 'YYYY-MM-dd' ..."}),e(S,b(p({id:"email",color:"primary",sx:{m:"10px"},ref:m,variant:"outlined",name:"email",defaultValue:f.email,label:"Email"},m("email",{required:!0,maxLength:200,pattern:/[a-zA-z0-9_.+-]+@[a-zA-z0-9-]+\.[a-zA-Z0-9-.]+/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(re,{sx:{color:"rgb(255,255,255)"}})})}})),w.email&&e("span",{style:g,children:"! Invalid email ..."}),e(S,b(p({id:"username",color:"primary",sx:{m:"10px"},ref:m,variant:"outlined",name:"username",defaultValue:f.username,label:"Username"},m("username",{required:!0,pattern:/^[a-zA-Z0-9]{3,255}$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(Se,{sx:{color:"rgb(255,255,255)"}})})}})),w.username&&e("span",{style:g,children:"! Invalid username ..."}),e(S,b(p({id:"password",type:"password",color:"primary",sx:{m:"10px"},ref:m,variant:"outlined",name:"password",defaultValue:f.password,label:"Password"},m("password",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(E,{"aria-label":"toggle password visibility",onClick:A=>ae("password"),edge:"end",children:o.showPassword?e(j,{sx:{color:"rgb(255,255,255)"}}):e(R,{sx:{color:"rgb(255,255,255)"}})})})}})),w.password&&e("span",{style:g,children:"! Invalid password ..."}),e(S,b(p({id:"confirmPassword",type:"password",sx:{m:"10px"},ref:m,variant:"outlined",name:"confirmPassword",label:"Confirm Password",defaultValue:f.password},m("confirmPassword",{required:!0,pattern:/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/i})),{InputLabelProps:{className:r.input},InputProps:{className:r.input,endAdornment:e(C,{position:"end",children:e(E,{"aria-label":"toggle password visibility",onClick:A=>ae("confirmPassword"),edge:"end",children:x.showPassword?e(j,{sx:{color:"rgb(255,255,255)"}}):e(R,{sx:{color:"rgb(255,255,255)"}})})})}})),w.confirmPassword&&e("span",{style:g,children:"! Invalid confirmation password ..."}),le?"":e("span",{style:g,children:"! Please make sure passwords match ..."}),e(y,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:e(v,{variant:"contained",color:"warning",type:"submit",sx:{width:"50%"},style:{textTransform:"none"},children:"Edit"})})]})}):null,e(h,{to:"/user/all",children:t(v,{sx:{m:"10px",mb:"20px"},variant:"contained",color:"primary",children:[e(O,{fontSize:"small",sx:{mr:"10px"}}),"Back"]})})]})};var te={},wr=W.exports;Object.defineProperty(te,"__esModule",{value:!0});var se=te.default=void 0,gr=wr(Z),br=G,vr=(0,gr.default)((0,br.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");se=te.default=vr;const Sr=async r=>{await((n=2200)=>new Promise(o=>setTimeout(o,n)))();const s=r.userID;await fetch(`https://user.technolashes.com/api/user/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(n=>{switch(n.status){case 200:document.getElementById("user-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(n=>{document.getElementById("user-delete-error").style.display="flex",document.getElementById("user-delete-error-message").innerHTML=n,console.log(n)})},Ir=()=>{const r=fe(),a=we();return J(Sr,{refetchOnWindowFocus:!1,onSuccess:()=>{r.invalidateQueries("user-all"),setTimeout(()=>a("/user/all"),2500)}})},he={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Pr=()=>{const{id:r}=U(),{isLoading:a,isError:s,error:n,data:o,isFetching:d}=Q(r),[x,i]=D.exports.useState(!0),u=()=>i(!0),c=()=>i(!1),{mutate:I}=Ir(),f=z=>{z.preventDefault(),I({userID:r})};return e(ge,{open:x,onClose:u,style:{backgroundColor:"rgb(50,53,101)"},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:a||d?e(y,{sx:{style:he,display:"flex",justifyContent:"center",mt:40},children:e(B,{color:"secondary"})}):s?e(Container,{sx:{display:"flex",justifyContent:"center"},children:t(l,{style:{color:"white"},children:["Error: ",n.message]})}):o?t(y,{children:[t(M,{sx:{width:"100%"},children:[e(L,{id:"user-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"user-delete-error-message"})}),e(L,{id:"user-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Deleted Successfully!"})})]}),t(y,{sx:he,children:[t(l,{id:"modal-modal-title",variant:"h6",color:"error",children:[t("strong",{style:{color:"blue"},children:[o.firstName,"'s"]})," Account"]}),e(l,{id:"modal-modal-description",sx:{mt:2},color:"error",children:"Are you sure you want this user account deleted?"}),t(v,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"error",onClick:f,children:["Yes",e(se,{fontSize:"small",sx:{ml:1}})]}),e(h,{to:"/user/all",children:t(v,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"primary",onClick:c,children:["No",e(O,{fontSize:"small",sx:{ml:"10px"}})]})})]})]}):null})},Cr=async()=>(await((s=1100)=>new Promise(n=>setTimeout(n,s)))(),await fetch("https://user.technolashes.com/api/records",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(s=>{switch(s.status){case 200:return s.json();case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).then(s=>{if(s)return s}).catch(s=>console.log(s))),Er=()=>xe("record-all",Cr,{refetchOnWindowFocus:!1}),Nr=()=>{const{isLoading:r,isError:a,error:s,data:n,isFetching:o}=Er();let d,x;return n&&(d=n.reduce((i,u)=>(i.some(c=>c.userUserID===u.userUserID)||i.push(u),i),[]),x=n.reduce((i,u)=>(i.some(c=>c.record.date===u.record.date&&c.userUserID===u.userUserID)||i.push(u),i),[])),t(N,{children:[e(l,{sx:{m:"10px"},variant:"h4",children:e("strong",{children:"ALL Records"})}),e(y,{sx:{m:"10px"},children:r||o?e($,{sx:{display:"flex",justifyContent:"center",mt:1},children:e(y,{children:e(B,{color:"secondary"})})}):a?e($,{sx:{display:"flex",justifyContent:"center"},children:e(y,{children:t(l,{style:{color:"rgb(0,0,0)"},children:["Error: ",s.message]})})}):n||d?d.map(i=>t(V,{children:[e(k,{expandIcon:e(Y,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(l,{variant:"subtitle2",color:"primary",children:t("strong",{children:[i.user.firstName," ",i.user.lastName]})})}),x.map(u=>{if(i.userUserID===u.userUserID)return t(V,{children:[e(k,{expandIcon:e(Y,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e(l,{variant:"subtitle2",color:"secondary",children:e("em",{children:u.record.date})})}),n.map(c=>{if(u.userUserID===c.userUserID&&u.record.date===c.record.date)return t(V,{children:[e(ce,{sx:{my:0,py:0},children:e(k,{expandIcon:e(Y,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{my:0,py:0},children:e(l,{variant:"subtitle2",children:t("strong",{style:{color:"rgb(50, 53, 101)"},children:[c.record.start+" ","-"," "+c.record.end]})})})}),t(F,{container:!0,spacing:2,children:[e(F,{item:!0,xs:7,children:e(ce,{children:e(k,{"aria-controls":"panel1a-content",id:"panel1a-header",children:t(l,{variant:"subtitle2",sx:{display:"flex",flexDirection:"column",mt:"-10px",p:0},textAlign:"left",children:[t("em",{children:["Service 1:"," ",c.record.firstService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),t("em",{children:["Service 2:"," ",c.record.secondService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),t("em",{children:["Service 3:"," ",c.record.thirdService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),t("em",{children:["Service 4:"," ",c.record.fourthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]}),t("em",{children:["Service 5:"," ",c.record.fifthService=="true"?e("strong",{style:{color:"green"},children:"Yes"}):e("em",{style:{color:"red"},children:"nope"})]})]})})})}),t(F,{item:!0,xs:5,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e(h,{to:`/record/update/${u.record.recordID}`,children:e(v,{size:"small",variant:"contained",color:"warning",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Edit"})}),e(h,{to:`/record/delete/${u.record.recordID}`,children:e(v,{size:"small",variant:"contained",color:"error",sx:{m:1,width:"100px"},style:{textTransform:"none"},children:"Delete"})})]})]})]},c.recordRecordID)})]},u.recordRecordID)})]},i.recordRecordID)):null})]})},Ar=async r=>{await((n=2200)=>new Promise(o=>setTimeout(o,n)))();const s=r.recordID;await fetch(`https://user.technolashes.com/api/record/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}).then(n=>{switch(n.status){case 200:document.getElementById("record-delete-success").style.display="flex";return;case 400:throw new Error("400 Status Code");case 401:throw new Error("401 Status Code");case 429:throw new Error("429 Status Code");case 500:throw new Error("500 Status Code")}}).catch(n=>{document.getElementById("record-delete-error").style.display="flex",document.getElementById("record-delete-error-message").innerHTML=n,console.log(n)})},Dr=()=>{const r=we();return J(Ar,{refetchOnWindowFocus:!1,onSuccess:()=>{setTimeout(()=>r("/record"),2500)}})},ye={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},zr=()=>{const{id:r}=U(),{isLoading:a,isError:s,error:n,data:o,isFetching:d}=Qe(r),[x,i]=D.exports.useState(!0),u=()=>i(!0),c=()=>i(!1),{mutate:I}=Dr(),f=z=>{z.preventDefault(),I({recordID:r})};return e(ge,{open:x,onClose:u,style:{backgroundColor:"rgb(50,53,101)"},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:a||d?e(y,{sx:{style:ye,display:"flex",justifyContent:"center",mt:40},children:e(B,{color:"secondary"})}):s?e(Container,{sx:{display:"flex",justifyContent:"center"},children:t(l,{style:{color:"white"},children:["Error: ",n.message]})}):o?t(y,{children:[t(M,{sx:{width:"100%"},children:[e(L,{id:"record-delete-error",severity:"error",style:{display:"none"},children:e("strong",{id:"record-delete-error-message"})}),e(L,{id:"record-delete-success",severity:"success",style:{display:"none"},children:e("strong",{children:"Deleted Successfully!"})})]}),t(y,{sx:ye,children:[t(l,{id:"modal-modal-title",variant:"h6",color:"error",children:[e("strong",{style:{color:"blue"},children:o.date})," (",o.start,"-",o.end,")"]}),e(l,{id:"modal-modal-description",sx:{mt:2},color:"error",children:"Are you sure you want this record deleted?"}),t(v,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"error",onClick:f,children:["Yes",e(se,{fontSize:"small",sx:{ml:1}})]}),e(h,{to:"/record",children:t(v,{variant:"contained",size:"small",sx:{m:"10px",mt:"30px"},color:"primary",onClick:c,children:["No",e(O,{fontSize:"small",sx:{ml:"10px"}})]})})]})]}):null})},Lr=()=>e(N,{children:t(_e,{children:[e(P,{path:"record",element:e(Nr,{})}),e(P,{path:"record/delete/:id",element:e(zr,{})}),e(P,{path:"record/update/:id",element:e(Ke,{})}),e(P,{path:"display",element:e(Xe,{})}),e(P,{path:"user/delete/:id",element:e(Pr,{})}),e(P,{path:"user/edit/:id",element:e(fr,{})}),e(P,{path:"user/add",element:e(xr,{})}),e(P,{path:"user/single/:id",element:e(ar,{})}),e(P,{path:"user/all",element:e(nr,{})}),e(P,{path:"settings",element:e(rr,{})}),e(P,{path:"home",element:e(pe,{})}),e(P,{path:"/",element:e(pe,{})})]})}),$r=()=>t("footer",{className:"footer-basic",children:[t(y,{className:"social",style:{padding:"10px 35px"},children:[e("a",{href:"https://m.instagram.com/",children:e(E,{"aria-label":"instagram",children:e(ke,{fontSize:"medium",style:{color:"rgb(255,255,2555)"}})})}),e("a",{href:"https://m.youtube.com/",children:e(E,{"aria-label":"instagram",children:e(je,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})}),e("a",{href:"https://m.twitter.com/",children:e(E,{"aria-label":"instagram",children:e(Re,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})}),e("a",{href:"https://m.facebook.com/",children:e(E,{"aria-label":"instagram",children:e(Ue,{fontSize:"medium",style:{color:"rgb(255,255,255)"}})})})]}),t(y,{id:"internal-links",children:[e(h,{to:"/",children:"Home"}),e(h,{to:"schedule/all",children:"Work Schedule"}),e(h,{to:"/appointment",children:"Appointment"})]}),e(l,{className:"copyright",variant:"caption",display:"block",align:"center",children:"AmourAila \xA9 2022"})]}),Br=[{id:1,title:"Home",href:"home"},{id:2,title:"Record",href:"record"},{id:3,title:"Settings",href:"settings"}],Rr=()=>{const[r,a]=ue.useState(null);ue.useState(!0);const s=d=>{a(d.currentTarget)},n=()=>{a(null)},o=async()=>{await((x=1001)=>new Promise(i=>setTimeout(i,x)))(),await fetch("https://user.technolashes.com/api/user/logout",{method:"POST",credentials:"include"}).then(x=>{x.status===200?(console.log("Logged out successfully!"),window.location.href="https://technolashes.com"):console.log("Error Logging out!")}).catch(x=>console.log(x))};return t(N,{children:[e(Me,{position:"static",children:e($,{maxWidth:"xl",children:t(qe,{disableGutters:!0,children:[e(y,{sx:{display:"flex"},children:e(h,{to:"/",children:e(E,{size:"large","aria-label":"logo",color:"inherit",children:e("img",{src:"/assets/img/Logo.webp",alt:"Logo",height:"50",width:"50"})})})}),e(l,{variant:"h6",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"AmourAila"}),e(l,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"AmourAila"}),t(y,{sx:{flexGrow:0},children:[e(Ve,{title:"Open menu",children:e(E,{size:"large","aria-label":"current menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:s,color:"inherit",children:e(Fe,{})})}),t(Ye,{sx:{mt:"45px",width:"100%"},id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(r),onClose:n,style:{position:"absolute"},children:[Br.map(d=>e(h,{to:d.href,style:{margin:0},children:e(H,{onClick:n,style:{width:"1000px"},children:e(l,{sx:{ml:"5px"},align:"center",color:"primary",children:d.title})})},d.id)),e(y,{sx:{display:"flex",justifyContent:"center",mr:"10px"},children:e(h,{to:"",onClick:n,children:t(v,{variant:"contained",color:"warning",onClick:o,style:{textTransform:"none"},children:[e(er,{sx:{mr:"5px"}}),"Sign out"]})})})]})]})]})})}),e(Lr,{}),e($r,{})]})};export{Rr as default};
